(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const Ee={},Li=(e,t)=>e===t,Hn=Symbol("solid-proxy"),Ni=Symbol("solid-track"),$t={equals:Li};let $i=Ur;const Le=1,Ft=2,Mr={owned:null,cleanups:null,context:null,owner:null};var L=null;let Te=null,j=null,G=null,Ke=null,zn=0;function rt(e,t){const n=j,r=L,i=e.length===0,o=i?Mr:{owned:null,cleanups:null,context:null,owner:t||r},a=i?e:()=>e(()=>le(()=>Xn(o)));L=o,j=null;try{return Ne(a,!0)}finally{j=n,L=r}}function ie(e,t){t=t?Object.assign({},$t,t):$t;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Fr(n,i));return[$r.bind(n),r]}function Ae(e,t,n){const r=jr(e,t,!1,Le);Jt(r)}function V(e,t,n){n=n?Object.assign({},$t,n):$t;const r=jr(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Jt(r),$r.bind(r)}function le(e){const t=j;j=null;try{return e()}finally{j=t}}function Lr(e,t,n){const r=Array.isArray(e);let i,o=n&&n.defer;return a=>{let s;if(r){s=Array(e.length);for(let l=0;l<e.length;l++)s[l]=e[l]()}else s=e();if(o){o=!1;return}const u=le(()=>t(s,i,a));return i=s,u}}function Qt(e){return L===null||(L.cleanups===null?L.cleanups=[e]:L.cleanups.push(e)),e}function Fi(){return L}function ji(e,t){const n=L;L=e;try{return Ne(t,!0)}finally{L=n}}function Wi(e){const t=j,n=L;return Promise.resolve().then(()=>{j=t,L=n;let r;return Ne(e,!1),j=L=null,r?r.done:void 0})}function Nr(e,t){const n=Symbol("context");return{id:n,Provider:zi(n),defaultValue:e}}function qn(e){let t;return(t=zr(L,e.id))!==void 0?t:e.defaultValue}function Yn(e){const t=V(e),n=V(()=>mn(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function $r(){const e=Te;if(this.sources&&(this.state||e))if(this.state===Le||e)Jt(this);else{const t=G;G=null,Ne(()=>jt(this),!1),G=t}if(j){const t=this.observers?this.observers.length:0;j.sources?(j.sources.push(this),j.sourceSlots.push(t)):(j.sources=[this],j.sourceSlots=[t]),this.observers?(this.observers.push(j),this.observerSlots.push(j.sources.length-1)):(this.observers=[j],this.observerSlots=[j.sources.length-1])}return this.value}function Fr(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Ne(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],a=Te&&Te.running;a&&Te.disposed.has(o),(a&&!o.tState||!a&&!o.state)&&(o.pure?G.push(o):Ke.push(o),o.observers&&Vr(o)),a||(o.state=Le)}if(G.length>1e6)throw G=[],new Error},!1)),t}function Jt(e){if(!e.fn)return;Xn(e);const t=L,n=j,r=zn;j=L=e,Ui(e,e.value,r),j=n,L=t}function Ui(e,t,n){let r;try{r=e.fn(t)}catch(i){e.pure&&(e.state=Le),Hr(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Fr(e,r):e.value=r,e.updatedAt=n)}function jr(e,t,n,r=Le,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:L,context:null,pure:n};return L===null||L!==Mr&&(L.owned?L.owned.push(o):L.owned=[o]),o}function Wr(e){const t=Te;if(e.state===0||t)return;if(e.state===Ft||t)return jt(e);if(e.suspense&&le(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<zn);)(e.state||t)&&n.push(e);for(let r=n.length-1;r>=0;r--)if(e=n[r],e.state===Le||t)Jt(e);else if(e.state===Ft||t){const i=G;G=null,Ne(()=>jt(e,n[0]),!1),G=i}}function Ne(e,t){if(G)return e();let n=!1;t||(G=[]),Ke?n=!0:Ke=[],zn++;try{const r=e();return Vi(n),r}catch(r){G||(Ke=null),Hr(r)}}function Vi(e){if(G&&(Ur(G),G=null),e)return;const t=Ke;Ke=null,t.length&&Ne(()=>$i(t),!1)}function Ur(e){for(let t=0;t<e.length;t++)Wr(e[t])}function jt(e,t){const n=Te;e.state=0;for(let r=0;r<e.sources.length;r+=1){const i=e.sources[r];i.sources&&(i.state===Le||n?i!==t&&Wr(i):(i.state===Ft||n)&&jt(i,t))}}function Vr(e){const t=Te;for(let n=0;n<e.observers.length;n+=1){const r=e.observers[n];(!r.state||t)&&(r.state=Ft,r.pure?G.push(r):Ke.push(r),r.observers&&Vr(r))}}function Xn(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),a=n.observerSlots.pop();r<i.length&&(o.sourceSlots[a]=r,i[r]=o,n.observerSlots[r]=a)}}if(e.owned){for(t=0;t<e.owned.length;t++)Xn(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function Hi(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function Hr(e){throw e=Hi(e),e}function zr(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:zr(e.owner,t):void 0}function mn(e){if(typeof e=="function"&&!e.length)return mn(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=mn(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function zi(e,t){return function(r){let i;return Ae(()=>i=le(()=>(L.context={[e]:r.value},Yn(()=>r.children))),void 0),i}}const qi=Symbol("fallback");function pr(e){for(let t=0;t<e.length;t++)e[t]()}function Yi(e,t,n={}){let r=[],i=[],o=[],a=0,s=t.length>1?[]:null;return Qt(()=>pr(o)),()=>{let u=e()||[],l,c;return u[Ni],le(()=>{let h=u.length,y,d,p,m,_,w,g,b,v;if(h===0)a!==0&&(pr(o),o=[],r=[],i=[],a=0,s&&(s=[])),n.fallback&&(r=[qi],i[0]=rt(x=>(o[0]=x,n.fallback())),a=1);else if(a===0){for(i=new Array(h),c=0;c<h;c++)r[c]=u[c],i[c]=rt(f);a=h}else{for(p=new Array(h),m=new Array(h),s&&(_=new Array(h)),w=0,g=Math.min(a,h);w<g&&r[w]===u[w];w++);for(g=a-1,b=h-1;g>=w&&b>=w&&r[g]===u[b];g--,b--)p[b]=i[g],m[b]=o[g],s&&(_[b]=s[g]);for(y=new Map,d=new Array(b+1),c=b;c>=w;c--)v=u[c],l=y.get(v),d[c]=l===void 0?-1:l,y.set(v,c);for(l=w;l<=g;l++)v=r[l],c=y.get(v),c!==void 0&&c!==-1?(p[c]=i[l],m[c]=o[l],s&&(_[c]=s[l]),c=d[c],y.set(v,c)):o[l]();for(c=w;c<h;c++)c in p?(i[c]=p[c],o[c]=m[c],s&&(s[c]=_[c],s[c](c))):i[c]=rt(f);i=i.slice(0,a=h),r=u.slice(0)}return i});function f(h){if(o[c]=h,s){const[y,d]=ie(c);return s[c]=d,t(u[c],y)}return t(u[c])}}}function M(e,t){return le(()=>e(t||{}))}function At(){return!0}const qr={get(e,t,n){return t===Hn?n:e.get(t)},has(e,t){return e.has(t)},set:At,deleteProperty:At,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:At,deleteProperty:At}},ownKeys(e){return e.keys()}};function ln(e){return(e=typeof e=="function"?e():e)?e:{}}function gn(...e){if(e.some(n=>n&&(Hn in n||typeof n=="function")))return new Proxy({get(n){for(let r=e.length-1;r>=0;r--){const i=ln(e[r])[n];if(i!==void 0)return i}},has(n){for(let r=e.length-1;r>=0;r--)if(n in ln(e[r]))return!0;return!1},keys(){const n=[];for(let r=0;r<e.length;r++)n.push(...Object.keys(ln(e[r])));return[...new Set(n)]}},qr);const t={};for(let n=e.length-1;n>=0;n--)if(e[n]){const r=Object.getOwnPropertyDescriptors(e[n]);for(const i in r)i in t||Object.defineProperty(t,i,{enumerable:!0,get(){for(let o=e.length-1;o>=0;o--){const a=(e[o]||{})[i];if(a!==void 0)return a}}})}return t}function Xi(e,...t){const n=new Set(t.flat()),r=Object.getOwnPropertyDescriptors(e),i=Hn in e;i||t.push(Object.keys(r).filter(a=>!n.has(a)));const o=t.map(a=>{const s={};for(let u=0;u<a.length;u++){const l=a[u];!i&&!(l in e)||Object.defineProperty(s,l,r[l]?r[l]:{get(){return e[l]},set(){return!0},enumerable:!0})}return s});return i&&o.push(new Proxy({get(a){return n.has(a)?void 0:e[a]},has(a){return n.has(a)?!1:a in e},keys(){return Object.keys(e).filter(a=>!n.has(a))}},qr)),o}function Yr(e){const t="fallback"in e&&{fallback:()=>e.fallback};return V(Yi(()=>e.each,e.children,t||void 0))}function Zt(e){let t=!1;const n=e.keyed,r=V(()=>e.when,void 0,{equals:(i,o)=>t?i===o:!i==!o});return V(()=>{const i=r();if(i){const o=e.children,a=typeof o=="function"&&o.length>0;return t=n||a,a?le(()=>o(i)):o}return e.fallback})}const Gi=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Qi=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Gi]),Ji=new Set(["innerHTML","textContent","innerText","children"]),Zi=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),vr=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),eo=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),to={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function no(e,t,n){let r=n.length,i=t.length,o=r,a=0,s=0,u=t[i-1].nextSibling,l=null;for(;a<i||s<o;){if(t[a]===n[s]){a++,s++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===a){const c=o<r?s?n[s-1].nextSibling:n[o-s]:u;for(;s<o;)e.insertBefore(n[s++],c)}else if(o===s)for(;a<i;)(!l||!l.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[o-1]&&n[s]===t[i-1]){const c=t[--i].nextSibling;e.insertBefore(n[s++],t[a++].nextSibling),e.insertBefore(n[--o],c),t[i]=n[o]}else{if(!l){l=new Map;let f=s;for(;f<o;)l.set(n[f],f++)}const c=l.get(t[a]);if(c!=null)if(s<c&&c<o){let f=a,h=1,y;for(;++f<i&&f<o&&!((y=l.get(t[f]))==null||y!==c+h);)h++;if(h>c-s){const d=t[a];for(;s<c;)e.insertBefore(n[s++],d)}else e.replaceChild(n[s++],t[a++])}else a++;else t[a++].remove()}}}const yr="_$DX_DELEGATE";function ro(e,t,n,r={}){let i;return rt(o=>{i=o,t===document?e():Y(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function ce(e,t,n){const r=document.createElement("template");r.innerHTML=e;let i=r.content.firstChild;return n&&(i=i.firstChild),i}function mt(e,t=window.document){const n=t[yr]||(t[yr]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,ho))}}function Xr(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function io(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function oo(e,t){t==null?e.removeAttribute("class"):e.className=t}function ao(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n)}function so(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,a;for(o=0,a=i.length;o<a;o++){const s=i[o];!s||s==="undefined"||t[s]||(mr(e,s,!1),delete n[s])}for(o=0,a=r.length;o<a;o++){const s=r[o],u=!!t[s];!s||s==="undefined"||n[s]===u||!u||(mr(e,s,!0),n[s]=u)}return n}function uo(e,t,n){if(!t)return n?Xr(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function lo(e,t={},n,r){const i={};return r||Ae(()=>i.children=qe(e,t.children,i.children)),Ae(()=>t.ref&&t.ref(e)),Ae(()=>co(e,t,n,!0,i,!0)),i}function Gr(e,t,n){return le(()=>e(t,n))}function Y(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return qe(e,t,r,n);Ae(i=>qe(e,t(),i,n),r)}function co(e,t,n,r,i={},o=!1){t||(t={});for(const a in i)if(!(a in t)){if(a==="children")continue;i[a]=gr(e,a,null,i[a],n,o)}for(const a in t){if(a==="children"){r||qe(e,t.children);continue}const s=t[a];i[a]=gr(e,a,s,i[a],n,o)}}function fo(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function mr(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function gr(e,t,n,r,i,o){let a,s,u;if(t==="style")return uo(e,n,r);if(t==="classList")return so(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const l=t.slice(3);r&&e.removeEventListener(l,r),n&&e.addEventListener(l,n)}else if(t.slice(0,10)==="oncapture:"){const l=t.slice(10);r&&e.removeEventListener(l,r,!0),n&&e.addEventListener(l,n,!0)}else if(t.slice(0,2)==="on"){const l=t.slice(2).toLowerCase(),c=eo.has(l);if(!c&&r){const f=Array.isArray(r)?r[0]:r;e.removeEventListener(l,f)}(c||n)&&(ao(e,l,n,c),c&&mt([l]))}else if((u=Ji.has(t))||!i&&(vr[t]||(s=Qi.has(t)))||(a=e.nodeName.includes("-")))t==="class"||t==="className"?oo(e,n):a&&!s&&!u?e[fo(t)]=n:e[vr[t]||t]=n;else{const l=i&&t.indexOf(":")>-1&&to[t.split(":")[0]];l?io(e,l,t,n):Xr(e,Zi[t]||t,n)}return n}function ho(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),Ee.registry&&!Ee.done&&(Ee.done=!0,document.querySelectorAll("[id^=pl-]").forEach(r=>r.remove()));n!==null;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function qe(e,t,n,r,i){for(Ee.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,a=r!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(Ee.context)return n;if(o==="number"&&(t=t.toString()),a){let s=n[0];s&&s.nodeType===3?s.data=t:s=document.createTextNode(t),n=Fe(e,n,r,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean"){if(Ee.context)return n;n=Fe(e,n,r)}else{if(o==="function")return Ae(()=>{let s=t();for(;typeof s=="function";)s=s();n=qe(e,s,n,r)}),()=>n;if(Array.isArray(t)){const s=[],u=n&&Array.isArray(n);if(bn(s,t,n,i))return Ae(()=>n=qe(e,s,n,r,!0)),()=>n;if(Ee.context){if(!s.length)return n;for(let l=0;l<s.length;l++)if(s[l].parentNode)return n=s}if(s.length===0){if(n=Fe(e,n,r),a)return n}else u?n.length===0?br(e,s,r):no(e,n,s):(n&&Fe(e),br(e,s));n=s}else if(t instanceof Node){if(Ee.context&&t.parentNode)return n=a?[t]:t;if(Array.isArray(n)){if(a)return n=Fe(e,n,r,t);Fe(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function bn(e,t,n,r){let i=!1;for(let o=0,a=t.length;o<a;o++){let s=t[o],u=n&&n[o];if(s instanceof Node)e.push(s);else if(!(s==null||s===!0||s===!1))if(Array.isArray(s))i=bn(e,s,u)||i;else if(typeof s=="function")if(r){for(;typeof s=="function";)s=s();i=bn(e,Array.isArray(s)?s:[s],Array.isArray(u)?u:[u])||i}else e.push(s),i=!0;else{const l=String(s);u&&u.nodeType===3&&u.data===l?e.push(u):e.push(document.createTextNode(l))}}return i}function br(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function Fe(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let a=t.length-1;a>=0;a--){const s=t[a];if(i!==s){const u=s.parentNode===e;!o&&!a?u?e.replaceChild(i,s):e.insertBefore(i,n):u&&s.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}const po=!1;function vo(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function yo([e,t],n,r){return[n?()=>n(e()):e,r?i=>t(r(i)):t]}function mo(e){try{return document.querySelector(e)}catch{return null}}function go(e,t){const n=mo(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function bo(e,t,n,r){let i=!1;const o=s=>typeof s=="string"?{value:s}:s,a=yo(ie(o(e()),{equals:(s,u)=>s.value===u.value}),void 0,s=>(!i&&t(s),s));return n&&Qt(n((s=e())=>{i=!0,a[1](o(s)),i=!1})),{signal:a,utils:r}}function wo(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:ie({value:""})};return e}function _o(){return bo(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:n,state:r})=>{t?window.history.replaceState(r,"",e):window.history.pushState(r,"",e),go(window.location.hash.slice(1),n)},e=>vo(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}const xo=/^(?:[a-z0-9]+:)?\/\//i,Eo=/^\/+|\/+$/g;function it(e,t=!1){const n=e.replace(Eo,"");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Tt(e,t,n){if(xo.test(t))return;const r=it(e),i=n&&it(n);let o="";return!i||t.startsWith("/")?o=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?o=r+i:o=i,(o||"/")+it(t,!o)}function So(e,t){if(e==null)throw new Error(t);return e}function Qr(e,t){return it(e).replace(/\/*(\*.*)?$/g,"")+it(t)}function Ao(e){const t={};return e.searchParams.forEach((n,r)=>{t[r]=n}),t}function He(e,t){return decodeURIComponent(t?e.replace(/\+/g," "):e)}function ko(e,t){const[n,r]=e.split("/*",2),i=n.split("/").filter(Boolean),o=i.length;return a=>{const s=a.split("/").filter(Boolean),u=s.length-o;if(u<0||u>0&&r===void 0&&!t)return null;const l={path:o?"":"/",params:{}};for(let c=0;c<o;c++){const f=i[c],h=s[c];if(f[0]===":")l.params[f.slice(1)]=h;else if(f.localeCompare(h,void 0,{sensitivity:"base"})!==0)return null;l.path+=`/${h}`}return r&&(l.params[r]=u?s.slice(-u).join("/"):""),l}}function Co(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((i,o)=>i+(o.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function Jr(e){const t=new Map,n=Fi();return new Proxy({},{get(r,i){return t.has(i)||ji(n,()=>t.set(i,V(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function Zr(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=t[1]),r=r.slice(t[0].length);return Zr(r).reduce((o,a)=>[...o,...i.map(s=>s+a)],[])}const Po=100,ei=Nr(),en=Nr(),tn=()=>So(qn(ei),"Make sure your app is wrapped in a <Router />");let ut;const nn=()=>ut||qn(en)||tn().base,Do=e=>{const t=nn();return V(()=>t.resolvePath(e()))},Ro=e=>{const t=tn();return V(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},To=()=>tn().location,Gn=()=>nn().params;function Ko(e,t="",n){const{component:r,data:i,children:o}=e,a=!o||Array.isArray(o)&&!o.length,s={key:e,element:r?()=>M(r,{}):()=>{const{element:u}=e;return u===void 0&&n?M(n,{}):u},preload:e.component?r.preload:e.preload,data:i};return ti(e.path).reduce((u,l)=>{for(const c of Zr(l)){const f=Qr(t,c),h=a?f:f.split("/*",1)[0];u.push({...s,originalPath:c,pattern:h,matcher:ko(h,!a)})}return u},[])}function Io(e,t=0){return{routes:e,score:Co(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let i=e.length-1;i>=0;i--){const o=e[i],a=o.matcher(n);if(!a)return null;r.unshift({...a,route:o})}return r}}}function ti(e){return Array.isArray(e)?e:[e]}function ni(e,t="",n,r=[],i=[]){const o=ti(e);for(let a=0,s=o.length;a<s;a++){const u=o[a];if(u&&typeof u=="object"&&u.hasOwnProperty("path")){const l=Ko(u,t,n);for(const c of l){if(r.push(c),u.children)ni(u.children,c.pattern,n,r,i);else{const f=Io([...r],i.length);i.push(f)}r.pop()}}}return r.length?i:i.sort((a,s)=>s.score-a.score)}function Oo(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n].matcher(t);if(i)return i}return[]}function Bo(e,t){const n=new URL("http://sar"),r=V(u=>{const l=e();try{return new URL(l,n)}catch{return console.error(`Invalid path ${l}`),u}},n,{equals:(u,l)=>u.href===l.href}),i=V(()=>He(r().pathname)),o=V(()=>He(r().search,!0)),a=V(()=>He(r().hash)),s=V(()=>"");return{get pathname(){return i()},get search(){return o()},get hash(){return a()},get state(){return t()},get key(){return s()},query:Jr(Lr(o,()=>Ao(r())))}}function Mo(e,t="",n,r){const{signal:[i,o],utils:a={}}=wo(e),s=a.parsePath||(E=>E),u=a.renderPath||(E=>E),l=Tt("",t),c=void 0;if(l===void 0)throw new Error(`${l} is not a valid base path`);l&&!i().value&&o({value:l,replace:!0,scroll:!1});const[f,h]=ie(!1),y=async E=>{h(!0);try{await Wi(E)}finally{h(!1)}},[d,p]=ie(i().value),[m,_]=ie(i().state),w=Bo(d,m),g=[],b={pattern:l,params:{},path:()=>l,outlet:()=>null,resolvePath(E){return Tt(l,E)}};if(n)try{ut=b,b.data=n({data:void 0,params:{},location:w,navigate:x(b)})}finally{ut=void 0}function v(E,A,T){le(()=>{if(typeof A=="number"){A&&(a.go?a.go(A):console.warn("Router integration does not support relative routing"));return}const{replace:O,resolve:K,scroll:F,state:D}={replace:!1,resolve:!0,scroll:!0,...T},U=K?E.resolvePath(A):Tt("",A);if(U===void 0)throw new Error(`Path '${A}' is not a routable path`);if(g.length>=Po)throw new Error("Too many redirects");const z=d();if((U!==z||D!==m())&&!po){const Z=g.push({value:z,replace:O,scroll:F,state:m()});y(()=>{p(U),_(D)}).then(()=>{g.length===Z&&C({value:U,state:D})})}})}function x(E){return E=E||qn(en)||b,(A,T)=>v(E,A,T)}function C(E){const A=g[0];A&&((E.value!==A.value||E.state!==A.state)&&o({...E,replace:A.replace,scroll:A.scroll}),g.length=0)}Ae(()=>{const{value:E,state:A}=i();le(()=>{E!==d()&&y(()=>{p(E),_(A)})})});{let E=function(A){if(A.defaultPrevented||A.button!==0||A.metaKey||A.altKey||A.ctrlKey||A.shiftKey)return;const T=A.composedPath().find(Z=>Z instanceof Node&&Z.nodeName.toUpperCase()==="A");if(!T||!T.hasAttribute("link"))return;const O=T.href;if(T.target||!O&&!T.hasAttribute("state"))return;const K=(T.getAttribute("rel")||"").split(/\s+/);if(T.hasAttribute("download")||K&&K.includes("external"))return;const F=new URL(O),D=He(F.pathname);if(F.origin!==window.location.origin||l&&D&&!D.toLowerCase().startsWith(l.toLowerCase()))return;const U=s(D+He(F.search,!0)+He(F.hash)),z=T.getAttribute("state");A.preventDefault(),v(b,U,{resolve:!1,replace:T.hasAttribute("replace"),scroll:!T.hasAttribute("noscroll"),state:z&&JSON.parse(z)})};var S=E;mt(["click"]),document.addEventListener("click",E),Qt(()=>document.removeEventListener("click",E))}return{base:b,out:c,location:w,isRouting:f,renderPath:u,parsePath:s,navigatorFactory:x}}function Lo(e,t,n,r){const{base:i,location:o,navigatorFactory:a}=e,{pattern:s,element:u,preload:l,data:c}=r().route,f=V(()=>r().path),h=Jr(()=>r().params);l&&l();const y={parent:t,pattern:s,get child(){return n()},path:f,params:h,data:t.data,outlet:u,resolvePath(d){return Tt(i.path(),d,f())}};if(c)try{ut=y,y.data=c({data:t.data,params:h,location:o,navigate:a(y)})}finally{ut=void 0}return y}const No=ce("<a link></a>"),$o=e=>{const{source:t,url:n,base:r,data:i,out:o}=e,a=t||_o(),s=Mo(a,r,i);return M(ei.Provider,{value:s,get children(){return e.children}})},Fo=e=>{const t=tn(),n=nn(),r=Yn(()=>e.children),i=V(()=>ni(r(),Qr(n.pattern,e.base||""),jo)),o=V(()=>Oo(i(),t.location.pathname));t.out&&t.out.matches.push(o().map(({route:l,path:c,params:f})=>({originalPath:l.originalPath,pattern:l.pattern,path:c,params:f})));const a=[];let s;const u=V(Lr(o,(l,c,f)=>{let h=c&&l.length===c.length;const y=[];for(let d=0,p=l.length;d<p;d++){const m=c&&c[d],_=l[d];f&&m&&_.route.key===m.route.key?y[d]=f[d]:(h=!1,a[d]&&a[d](),rt(w=>{a[d]=w,y[d]=Lo(t,y[d-1]||n,()=>u()[d+1],()=>o()[d])}))}return a.splice(l.length).forEach(d=>d()),f&&h?f:(s=y[0],y)}));return M(Zt,{get when(){return u()&&s},children:l=>M(en.Provider,{value:l,get children(){return l.outlet()}})})},je=e=>{const t=Yn(()=>e.children);return gn(e,{get children(){return t()}})},jo=()=>{const e=nn();return M(Zt,{get when(){return e.child},children:t=>M(en.Provider,{value:t,get children(){return t.outlet()}})})};function Ye(e){e=gn({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=Xi(e,["href","state","activeClass","inactiveClass","end"]),n=Do(()=>e.href),r=Ro(n),i=To(),o=V(()=>{const a=n();if(a===void 0)return!1;const s=a.split(/[?#]/,1)[0].toLowerCase(),u=i.pathname.toLowerCase();return e.end?s===u:u.startsWith(s)});return(()=>{const a=No.cloneNode(!0);return lo(a,gn(t,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{[e.inactiveClass]:!o(),[e.activeClass]:o(),...t.classList}},get["aria-current"](){return o()?"page":void 0}}),!1,!1),a})()}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var I=function(){return I=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},I.apply(this,arguments)};function wn(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var N=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,W=Object.keys,X=Array.isArray;typeof Promise<"u"&&!N.Promise&&(N.Promise=Promise);function J(e,t){return typeof t!="object"||W(t).forEach(function(n){e[n]=t[n]}),e}var lt=Object.getPrototypeOf,Wo={}.hasOwnProperty;function te(e,t){return Wo.call(e,t)}function Xe(e,t){typeof t=="function"&&(t=t(lt(e))),(typeof Reflect>"u"?W:Reflect.ownKeys)(t).forEach(function(n){me(e,n,t[n])})}var ri=Object.defineProperty;function me(e,t,n,r){ri(e,t,J(n&&te(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function Ge(e){return{from:function(t){return e.prototype=Object.create(t.prototype),me(e.prototype,"constructor",e),{extend:Xe.bind(null,e.prototype)}}}}var Uo=Object.getOwnPropertyDescriptor;function Qn(e,t){var n=Uo(e,t),r;return n||(r=lt(e))&&Qn(r,t)}var Vo=[].slice;function rn(e,t,n){return Vo.call(e,t,n)}function ii(e,t){return t(e)}function tt(e){if(!e)throw new Error("Assertion Failed")}function oi(e){N.setImmediate?setImmediate(e):setTimeout(e,0)}function ai(e,t){return e.reduce(function(n,r,i){var o=t(r,i);return o&&(n[o[0]]=o[1]),n},{})}function Ho(e,t,n){try{e.apply(null,n)}catch(r){t&&t(r)}}function ye(e,t){if(te(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,i=t.length;r<i;++r){var o=ye(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(a!==-1){var s=e[t.substr(0,a)];return s===void 0?void 0:ye(s,t.substr(a+1))}}function oe(e,t,n){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){tt(typeof n!="string"&&"length"in n);for(var r=0,i=t.length;r<i;++r)oe(e,t[r],n[r])}else{var o=t.indexOf(".");if(o!==-1){var a=t.substr(0,o),s=t.substr(o+1);if(s==="")n===void 0?X(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n;else{var u=e[a];(!u||!te(e,a))&&(u=e[a]={}),oe(u,s,n)}}else n===void 0?X(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function zo(e,t){typeof t=="string"?oe(e,t,void 0):"length"in t&&[].map.call(t,function(n){oe(e,n,void 0)})}function si(e){var t={};for(var n in e)te(e,n)&&(t[n]=e[n]);return t}var qo=[].concat;function ui(e){return qo.apply([],e)}var li="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ui([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return N[e]}),Yo=li.map(function(e){return N[e]});ai(li,function(e){return[e,!0]});var xe=null;function gt(e){xe=typeof WeakMap<"u"&&new WeakMap;var t=_n(e);return xe=null,t}function _n(e){if(!e||typeof e!="object")return e;var t=xe&&xe.get(e);if(t)return t;if(X(e)){t=[],xe&&xe.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(_n(e[n]))}else if(Yo.indexOf(e.constructor)>=0)t=e;else{var i=lt(e);t=i===Object.prototype?{}:Object.create(i),xe&&xe.set(e,t);for(var o in e)te(e,o)&&(t[o]=_n(e[o]))}return t}var Xo={}.toString;function xn(e){return Xo.call(e).slice(8,-1)}var En=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Go=typeof En=="symbol"?function(e){var t;return e!=null&&(t=e[En])&&t.apply(e)}:function(){return null},Ve={};function pe(e){var t,n,r,i;if(arguments.length===1){if(X(e))return e.slice();if(this===Ve&&typeof e=="string")return[e];if(i=Go(e)){for(n=[];r=i.next(),!r.done;)n.push(r.value);return n}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Jn=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},fe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ci(e,t){fe=e,fi=t}var fi=function(){return!0},Qo=!new Error("").stack;function $e(){if(Qo)try{throw $e.arguments,new Error}catch(e){return e}return new Error}function Sn(e,t){var n=e.stack;return n?(t=t||0,n.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),n.split(`
`).slice(t).filter(fi).map(function(r){return`
`+r}).join("")):""}var Jo=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],hi=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Zn=Jo.concat(hi),Zo={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Qe(e,t){this._e=$e(),this.name=e,this.message=t}Ge(Qe).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Sn(this._e,2))}},toString:function(){return this.name+": "+this.message}});function di(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,r,i){return i.indexOf(n)===r}).join(`
`)}function Wt(e,t,n,r){this._e=$e(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=di(e,t)}Ge(Wt).from(Qe);function ot(e,t){this._e=$e(),this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=di(e,t)}Ge(ot).from(Qe);var er=Zn.reduce(function(e,t){return e[t]=t+"Error",e},{}),ea=Qe,R=Zn.reduce(function(e,t){var n=t+"Error";function r(i,o){this._e=$e(),this.name=n,i?typeof i=="string"?(this.message=""+i+(o?`
 `+o:""),this.inner=o||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=Zo[t]||n,this.inner=null)}return Ge(r).from(ea),e[t]=r,e},{});R.Syntax=SyntaxError;R.Type=TypeError;R.Range=RangeError;var wr=hi.reduce(function(e,t){return e[t+"Error"]=R[t],e},{});function ta(e,t){if(!e||e instanceof Qe||e instanceof TypeError||e instanceof SyntaxError||!e.name||!wr[e.name])return e;var n=new wr[e.name](t||e.message,e);return"stack"in e&&me(n,"stack",{get:function(){return this.inner.stack}}),n}var on=Zn.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=R[t]),e},{});on.ModifyError=Wt;on.DexieError=Qe;on.BulkError=ot;function B(){}function bt(e){return e}function na(e,t){return e==null||e===bt?t:function(n){return t(e(n))}}function Be(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function ra(e,t){return e===B?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Be(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Be(i,this.onerror):i),o!==void 0?o:n}}function ia(e,t){return e===B?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Be(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Be(r,this.onerror):r)}}function oa(e,t){return e===B?t:function(n){var r=e.apply(this,arguments);J(n,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Be(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Be(o,this.onerror):o),r===void 0?a===void 0?void 0:a:J(r,a)}}function aa(e,t){return e===B?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function tr(e,t){return e===B?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}var ct={},sa=100,ua=20,pi=100,nr=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,lt(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,lt(t),e]}(),An=nr[0],Ut=nr[1],kn=nr[2],vi=Ut&&Ut.then,Kt=An&&An.constructor,rr=!!kn,Cn=!1,la=kn?function(){kn.then(kt)}:N.setImmediate?setImmediate.bind(null,kt):N.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){kt(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(kt,0)},ft=function(e,t){nt.push([e,t]),Vt&&(la(),Vt=!1)},Pn=!0,Vt=!0,Ie=[],It=[],Dn=null,Rn=bt,ze={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Er,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{Er(e[0],e[1])}catch{}})}},P=ze,nt=[],Oe=0,Ot=[];function k(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=B,this._lib=!1;var t=this._PSD=P;if(fe&&(this._stackHolder=$e(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==ct)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Kn(this,this._value);return}this._state=null,this._value=null,++t.ref,mi(this,e)}var Tn={get:function(){var e=P,t=Ht;function n(r,i){var o=this,a=!e.global&&(e!==P||t!==Ht),s=a&&!ge(),u=new k(function(l,c){ir(o,new yi(qt(r,e,a,s),qt(i,e,a,s),l,c,e))});return fe&&wi(u,this),u}return n.prototype=ct,n},set:function(e){me(this,"then",e&&e.prototype===ct?Tn:{get:function(){return e},set:Tn.set})}};Xe(k.prototype,{then:Tn,_then:function(e,t){ir(this,new yi(null,null,e,t,P))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,function(r){return r instanceof t?n(r):Bt(r)}):this.then(null,function(r){return r&&r.name===t?n(r):Bt(r)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),Bt(t)})},stack:{get:function(){if(this._stack)return this._stack;try{Cn=!0;var e=bi(this,[],ua),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Cn=!1}}},timeout:function(e,t){var n=this;return e<1/0?new k(function(r,i){var o=setTimeout(function(){return i(new R.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,o))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&me(k.prototype,Symbol.toStringTag,"Dexie.Promise");ze.env=_i();function yi(e,t,n,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=i}Xe(k,{all:function(){var e=pe.apply(null,arguments).map(zt);return new k(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach(function(i,o){return k.resolve(i).then(function(a){e[o]=a,--r||t(e)},n)})})},resolve:function(e){if(e instanceof k)return e;if(e&&typeof e.then=="function")return new k(function(n,r){e.then(n,r)});var t=new k(ct,!0,e);return wi(t,Dn),t},reject:Bt,race:function(){var e=pe.apply(null,arguments).map(zt);return new k(function(t,n){e.map(function(r){return k.resolve(r).then(t,n)})})},PSD:{get:function(){return P},set:function(e){return P=e}},totalEchoes:{get:function(){return Ht}},newPSD:ke,usePSD:Ze,scheduler:{get:function(){return ft},set:function(e){ft=e}},rejectionMapper:{get:function(){return Rn},set:function(e){Rn=e}},follow:function(e,t){return new k(function(n,r){return ke(function(i,o){var a=P;a.unhandleds=[],a.onunhandled=o,a.finalize=Be(function(){var s=this;fa(function(){s.unhandleds.length===0?i():o(s.unhandleds[0])})},a.finalize),e()},t,n,r)})}});Kt&&(Kt.allSettled&&me(k,"allSettled",function(){var e=pe.apply(null,arguments).map(zt);return new k(function(t){e.length===0&&t([]);var n=e.length,r=new Array(n);e.forEach(function(i,o){return k.resolve(i).then(function(a){return r[o]={status:"fulfilled",value:a}},function(a){return r[o]={status:"rejected",reason:a}}).then(function(){return--n||t(r)})})})}),Kt.any&&typeof AggregateError<"u"&&me(k,"any",function(){var e=pe.apply(null,arguments).map(zt);return new k(function(t,n){e.length===0&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach(function(o,a){return k.resolve(o).then(function(s){return t(s)},function(s){i[a]=s,--r||n(new AggregateError(i))})})})}));function mi(e,t){try{t(function(n){if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&wt();n&&typeof n.then=="function"?mi(e,function(i,o){n instanceof k?n._then(i,o):n.then(i,o)}):(e._state=!0,e._value=n,gi(e)),r&&_t()}},Kn.bind(null,e))}catch(n){Kn(e,n)}}function Kn(e,t){if(It.push(t),e._state===null){var n=e._lib&&wt();t=Rn(t),e._state=!1,e._value=t,fe&&t!==null&&typeof t=="object"&&!t._promise&&Ho(function(){var r=Qn(t,"stack");t._promise=e,me(t,"stack",{get:function(){return Cn?r&&(r.get?r.get.apply(t):r.value):e.stack}})}),ha(e),gi(e),n&&_t()}}function gi(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)ir(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),Oe===0&&(++Oe,ft(function(){--Oe===0&&or()},[]))}function ir(e,t){if(e._state===null){e._listeners.push(t);return}var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Oe,ft(ca,[n,e,t])}function ca(e,t,n){try{Dn=t;var r,i=t._value;t._state?r=e(i):(It.length&&(It=[]),r=e(i),It.indexOf(i)===-1&&da(t)),n.resolve(r)}catch(o){n.reject(o)}finally{Dn=null,--Oe===0&&or(),--n.psd.ref||n.psd.finalize()}}function bi(e,t,n){if(t.length===n)return t;var r="";if(e._state===!1){var i=e._value,o,a;i!=null?(o=i.name||"Error",a=i.message||i,r=Sn(i,0)):(o=i,a=""),t.push(o+(a?": "+a:"")+r)}return fe&&(r=Sn(e._stackHolder,2),r&&t.indexOf(r)===-1&&t.push(r),e._prev&&bi(e._prev,t,n)),t}function wi(e,t){var n=t?t._numPrev+1:0;n<sa&&(e._prev=t,e._numPrev=n)}function kt(){wt()&&_t()}function wt(){var e=Pn;return Pn=!1,Vt=!1,e}function _t(){var e,t,n;do for(;nt.length>0;)for(e=nt,nt=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(nt.length>0);Pn=!0,Vt=!0}function or(){var e=Ie;Ie=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var t=Ot.slice(0),n=t.length;n;)t[--n]()}function fa(e){function t(){e(),Ot.splice(Ot.indexOf(t),1)}Ot.push(t),++Oe,ft(function(){--Oe===0&&or()},[])}function ha(e){Ie.some(function(t){return t._value===e._value})||Ie.push(e)}function da(e){for(var t=Ie.length;t;)if(Ie[--t]._value===e._value){Ie.splice(t,1);return}}function Bt(e){return new k(ct,!1,e)}function $(e,t){var n=P;return function(){var r=wt(),i=P;try{return Ce(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{Ce(i,!1),r&&_t()}}}var q={awaits:0,echoes:0,id:0},pa=0,Mt=[],cn=0,Ht=0,va=0;function ke(e,t,n,r){var i=P,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++va;var a=ze.env;o.env=rr?{Promise:k,PromiseProp:{value:k,configurable:!0,writable:!0},all:k.all,race:k.race,allSettled:k.allSettled,any:k.any,resolve:k.resolve,reject:k.reject,nthen:_r(a.nthen,o),gthen:_r(a.gthen,o)}:{},t&&J(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Ze(o,e,n,r);return o.ref===0&&o.finalize(),s}function Je(){return q.id||(q.id=++pa),++q.awaits,q.echoes+=pi,q.id}function ge(){return q.awaits?(--q.awaits===0&&(q.id=0),q.echoes=q.awaits*pi,!0):!1}(""+vi).indexOf("[native code]")===-1&&(Je=ge=B);function zt(e){return q.echoes&&e&&e.constructor===Kt?(Je(),e.then(function(t){return ge(),t},function(t){return ge(),H(t)})):e}function ya(e){++Ht,(!q.echoes||--q.echoes===0)&&(q.echoes=q.id=0),Mt.push(P),Ce(e,!0)}function ma(){var e=Mt[Mt.length-1];Mt.pop(),Ce(e,!1)}function Ce(e,t){var n=P;if((t?q.echoes&&(!cn++||e!==P):cn&&(!--cn||e!==P))&&xi(t?ya.bind(null,e):ma),e!==P&&(P=e,n===ze&&(ze.env=_i()),rr)){var r=ze.env.Promise,i=e.env;Ut.then=i.nthen,r.prototype.then=i.gthen,(n.global||e.global)&&(Object.defineProperty(N,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function _i(){var e=N.Promise;return rr?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(N,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Ut.then,gthen:e.prototype.then}:{}}function Ze(e,t,n,r,i){var o=P;try{return Ce(e,!0),t(n,r,i)}finally{Ce(o,!1)}}function xi(e){vi.call(An,e)}function qt(e,t,n,r){return typeof e!="function"?e:function(){var i=P;n&&Je(),Ce(t,!0);try{return e.apply(this,arguments)}finally{Ce(i,!1),r&&xi(ge)}}}function _r(e,t){return function(n,r){return e.call(this,qt(n,t),qt(r,t))}}var xr="unhandledrejection";function Er(e,t){var n;try{n=t.onuncatched(e)}catch{}if(n!==!1)try{var r,i={promise:t,reason:e};if(N.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(xr,!0,!0),J(r,i)):N.CustomEvent&&(r=new CustomEvent(xr,{detail:i}),J(r,i)),r&&N.dispatchEvent&&(dispatchEvent(r),!N.PromiseRejectionEvent&&N.onunhandledrejection))try{N.onunhandledrejection(r)}catch{}fe&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch{}}var H=k.reject;function In(e,t,n,r){if(!e.idbdb||!e._state.openComplete&&!P.letThrough&&!e._vip){if(e._state.openComplete)return H(new R.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return H(new R.DatabaseClosed);e.open().catch(B)}return e._state.dbReadyPromise.then(function(){return In(e,t,n,r)})}else{var i=e._createTransaction(t,n,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===er.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return In(e,t,n,r)})):H(o)}return i._promise(t,function(o,a){return ke(function(){return P.trans=i,r(o,a,i)})}).then(function(o){return i._completion.then(function(){return o})})}}var Sr="3.2.2",Re=String.fromCharCode(65535),On=-1/0,he="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ei="String expected.",at=[],an=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),ga=an,ba=an,Si=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},sn="__dbnames",fn="readonly",hn="readwrite";function Me(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Ai={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ct(e){return typeof e=="string"&&!/\./.test(e)?function(t){return t[e]===void 0&&e in t&&(t=gt(t),delete t[e]),t}:function(t){return t}}var wa=function(){function e(){}return e.prototype._trans=function(t,n,r){var i=this._tx||P.trans,o=this.name;function a(u,l,c){if(!c.schema[o])throw new R.NotFound("Table "+o+" not part of transaction");return n(c.idbtrans,c)}var s=wt();try{return i&&i.db===this.db?i===P.trans?i._promise(t,a,r):ke(function(){return i._promise(t,a,r)},{trans:i,transless:P.transless||P}):In(this.db,t,[this.name],a)}finally{s&&_t()}},e.prototype.get=function(t,n){var r=this;return t&&t.constructor===Object?this.where(t).first(n):this._trans("readonly",function(i){return r.core.get({trans:i,key:t}).then(function(o){return r.hook.reading.fire(o)})}).then(n)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(X(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var n=W(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(c){return c.compound&&n.every(function(f){return c.keyPath.indexOf(f)>=0})&&c.keyPath.every(function(f){return n.indexOf(f)>=0})})[0];if(r&&this.db._maxKey!==Re)return this.where(r.name).equals(r.keyPath.map(function(c){return t[c]}));!r&&fe&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var i=this.schema.idxByName,o=this.db._deps.indexedDB;function a(c,f){try{return o.cmp(c,f)===0}catch{return!1}}var s=n.reduce(function(c,f){var h=c[0],y=c[1],d=i[f],p=t[f];return[h||d,h||!d?Me(y,d&&d.multi?function(m){var _=ye(m,f);return X(_)&&_.some(function(w){return a(p,w)})}:function(m){return a(p,ye(m,f))}):y]},[null,null]),u=s[0],l=s[1];return u?this.where(u.name).equals(t[u.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,X(t)?"["+t.join("+")+"]":t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){this.schema.mappedClass=t;var n=function(r){if(!r)return r;var i=Object.create(t.prototype);for(var o in r)if(te(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),t},e.prototype.defineClass=function(){function t(n){J(this,n)}return this.mapToClass(t)},e.prototype.add=function(t,n){var r=this,i=this.schema.primKey,o=i.auto,a=i.keyPath,s=t;return a&&o&&(s=Ct(a)(t)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"add",keys:n!=null?[n]:null,values:[s]})}).then(function(u){return u.numFailures?k.reject(u.failures[0]):u.lastResult}).then(function(u){if(a)try{oe(t,a,u)}catch{}return u})},e.prototype.update=function(t,n){if(typeof t=="object"&&!X(t)){var r=ye(t,this.schema.primKey.keyPath);if(r===void 0)return H(new R.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?W(n).forEach(function(i){oe(t,i,n[i])}):n(t,{value:t,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(t).modify(n)},e.prototype.put=function(t,n){var r=this,i=this.schema.primKey,o=i.auto,a=i.keyPath,s=t;return a&&o&&(s=Ct(a)(t)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"put",values:[s],keys:n!=null?[n]:null})}).then(function(u){return u.numFailures?k.reject(u.failures[0]):u.lastResult}).then(function(u){if(a)try{oe(t,a,u)}catch{}return u})},e.prototype.delete=function(t){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[t]})}).then(function(r){return r.numFailures?k.reject(r.failures[0]):void 0})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"deleteRange",range:Ai})}).then(function(n){return n.numFailures?k.reject(n.failures[0]):void 0})},e.prototype.bulkGet=function(t){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:t,trans:r}).then(function(i){return i.map(function(o){return n.hook.reading.fire(o)})})})},e.prototype.bulkAdd=function(t,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(s){var u=i.schema.primKey,l=u.auto,c=u.keyPath;if(c&&o)throw new R.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new R.InvalidArgument("Arguments objects and keys must have the same length");var f=t.length,h=c&&l?t.map(Ct(c)):t;return i.core.mutate({trans:s,type:"add",keys:o,values:h,wantResults:a}).then(function(y){var d=y.numFailures,p=y.results,m=y.lastResult,_=y.failures,w=a?p:m;if(d===0)return w;throw new ot(i.name+".bulkAdd(): "+d+" of "+f+" operations failed",_)})})},e.prototype.bulkPut=function(t,n,r){var i=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var a=r?r.allKeys:void 0;return this._trans("readwrite",function(s){var u=i.schema.primKey,l=u.auto,c=u.keyPath;if(c&&o)throw new R.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new R.InvalidArgument("Arguments objects and keys must have the same length");var f=t.length,h=c&&l?t.map(Ct(c)):t;return i.core.mutate({trans:s,type:"put",keys:o,values:h,wantResults:a}).then(function(y){var d=y.numFailures,p=y.results,m=y.lastResult,_=y.failures,w=a?p:m;if(d===0)return w;throw new ot(i.name+".bulkPut(): "+d+" of "+f+" operations failed",_)})})},e.prototype.bulkDelete=function(t){var n=this,r=t.length;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"delete",keys:t})}).then(function(i){var o=i.numFailures,a=i.lastResult,s=i.failures;if(o===0)return a;throw new ot(n.name+".bulkDelete(): "+o+" of "+r+" operations failed",s)})},e}();function xt(e){var t={},n=function(s,u){if(u){for(var l=arguments.length,c=new Array(l-1);--l;)c[l-1]=arguments[l];return t[s].subscribe.apply(null,c),e}else if(typeof s=="string")return t[s]};n.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return n;function o(s,u,l){if(typeof s=="object")return a(s);u||(u=aa),l||(l=B);var c={subscribers:[],fire:l,subscribe:function(f){c.subscribers.indexOf(f)===-1&&(c.subscribers.push(f),c.fire=u(c.fire,f))},unsubscribe:function(f){c.subscribers=c.subscribers.filter(function(h){return h!==f}),c.fire=c.subscribers.reduce(u,l)}};return t[s]=n[s]=c,c}function a(s){W(s).forEach(function(u){var l=s[u];if(X(l))o(u,s[u][0],s[u][1]);else if(l==="asap")var c=o(u,bt,function(){for(var h=arguments.length,y=new Array(h);h--;)y[h]=arguments[h];c.subscribers.forEach(function(d){oi(function(){d.apply(null,y)})})});else throw new R.InvalidArgument("Invalid event config")})}}function Et(e,t){return Ge(t).from({prototype:e}),t}function _a(e){return Et(wa.prototype,function(n,r,i){this.db=e,this._tx=i,this.name=n,this.schema=r,this.hook=e._allTables[n]?e._allTables[n].hook:xt(null,{creating:[ra,B],reading:[na,bt],updating:[oa,B],deleting:[ia,B]})})}function We(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function dn(e,t){e.filter=Me(e.filter,t)}function pn(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return Me(r(),t())}:t,e.justLimit=n&&!r}function xa(e,t){e.isMatch=Me(e.isMatch,t)}function Lt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new R.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Ar(e,t,n){var r=Lt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function Pt(e,t,n,r){var i=e.replayFilter?Me(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},a=function(s,u,l){if(!i||i(u,l,function(h){return u.stop(h)},function(h){return u.fail(h)})){var c=u.primaryKey,f=""+c;f==="[object ArrayBuffer]"&&(f=""+new Uint8Array(c)),te(o,f)||(o[f]=!0,t(s,u,l))}};return Promise.all([e.or._iterate(a,n),kr(Ar(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}else return kr(Ar(e,r,n),Me(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function kr(e,t,n,r){var i=r?function(a,s,u){return n(r(a),s,u)}:n,o=$(i);return e.then(function(a){if(a)return a.start(function(){var s=function(){return a.continue()};(!t||t(a,function(u){return s=u},function(u){a.stop(u),s=B},function(u){a.fail(u),s=B}))&&o(a.value,a,function(u){return s=u}),s()})})}function Q(e,t){try{var n=Cr(e),r=Cr(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return Sa(Pr(e),Pr(t));case"Array":return Ea(e,t)}}catch{}return NaN}function Ea(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o){var a=Q(e[o],t[o]);if(a!==0)return a}return n===r?0:n<r?-1:1}function Sa(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}function Cr(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var n=xn(e);return n==="ArrayBuffer"?"binary":n}function Pr(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Aa=function(){function e(){}return e.prototype._read=function(t,n){var r=this._ctx;return r.error?r.table._trans(null,H.bind(null,r.error)):r.table._trans("readonly",t).then(n)},e.prototype._write=function(t){var n=this._ctx;return n.error?n.table._trans(null,H.bind(null,n.error)):n.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var n=this._ctx;n.algorithm=Me(n.algorithm,t)},e.prototype._iterate=function(t,n){return Pt(this._ctx,t,n,this._ctx.table.core)},e.prototype.clone=function(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&J(r,t),n._ctx=r,n},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var n=this._ctx;return this._read(function(r){return Pt(n,t,r,n.table.core)})},e.prototype.count=function(t){var n=this;return this._read(function(r){var i=n._ctx,o=i.table.core;if(We(i,!0))return o.count({trans:r,query:{index:Lt(i,o.schema),range:i.range}}).then(function(s){return Math.min(s,i.limit)});var a=0;return Pt(i,function(){return++a,!1},r,o).then(function(){return a})}).then(t)},e.prototype.sortBy=function(t,n){var r=t.split(".").reverse(),i=r[0],o=r.length-1;function a(l,c){return c?a(l[r[c]],c-1):l[i]}var s=this._ctx.dir==="next"?1:-1;function u(l,c){var f=a(l,o),h=a(c,o);return f<h?-s:f>h?s:0}return this.toArray(function(l){return l.sort(u)}).then(n)},e.prototype.toArray=function(t){var n=this;return this._read(function(r){var i=n._ctx;if(i.dir==="next"&&We(i,!0)&&i.limit>0){var o=i.valueMapper,a=Lt(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:a,range:i.range}}).then(function(u){var l=u.result;return o?l.map(o):l})}else{var s=[];return Pt(i,function(u){return s.push(u)},r,i.table.core).then(function(){return s})}},t)},e.prototype.offset=function(t){var n=this._ctx;return t<=0?this:(n.offset+=t,We(n)?pn(n,function(){var r=t;return function(i,o){return r===0?!0:r===1?(--r,!1):(o(function(){i.advance(r),r=0}),!1)}}):pn(n,function(){var r=t;return function(){return--r<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),pn(this._ctx,function(){var n=t;return function(r,i,o){return--n<=0&&i(o),n>=0}},!0),this},e.prototype.until=function(t,n){return dn(this._ctx,function(r,i,o){return t(r.value)?(i(o),n):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return dn(this._ctx,function(n){return t(n.value)}),xa(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.key,i)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,i){t(i.primaryKey,i)})},e.prototype.keys=function(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(t)},e.prototype.primaryKeys=function(t){var n=this._ctx;if(n.dir==="next"&&We(n,!0)&&n.limit>0)return this._read(function(i){var o=Lt(n,n.table.core.schema);return n.table.core.query({trans:i,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(function(i){var o=i.result;return o}).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(n){return n[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return dn(this._ctx,function(i){var o=i.primaryKey.toString(),a=te(r,o);return r[o]=!0,!a}),this},e.prototype.modify=function(t){var n=this,r=this._ctx;return this._write(function(i){var o;if(typeof t=="function")o=t;else{var a=W(t),s=a.length;o=function(_){for(var w=!1,g=0;g<s;++g){var b=a[g],v=t[b];ye(_,b)!==v&&(oe(_,b,v),w=!0)}return w}}var u=r.table.core,l=u.schema.primaryKey,c=l.outbound,f=l.extractKey,h=n.db._options.modifyChunkSize||200,y=[],d=0,p=[],m=function(_,w){var g=w.failures,b=w.numFailures;d+=_-b;for(var v=0,x=W(g);v<x.length;v++){var C=x[v];y.push(g[C])}};return n.clone().primaryKeys().then(function(_){var w=function(g){var b=Math.min(h,_.length-g);return u.getMany({trans:i,keys:_.slice(g,g+b),cache:"immutable"}).then(function(v){for(var x=[],C=[],S=c?[]:null,E=[],A=0;A<b;++A){var T=v[A],O={value:gt(T),primKey:_[g+A]};o.call(O,O.value,O)!==!1&&(O.value==null?E.push(_[g+A]):!c&&Q(f(T),f(O.value))!==0?(E.push(_[g+A]),x.push(O.value)):(C.push(O.value),c&&S.push(_[g+A])))}var K=We(r)&&r.limit===1/0&&(typeof t!="function"||t===vn)&&{index:r.index,range:r.range};return Promise.resolve(x.length>0&&u.mutate({trans:i,type:"add",values:x}).then(function(F){for(var D in F.failures)E.splice(parseInt(D),1);m(x.length,F)})).then(function(){return(C.length>0||K&&typeof t=="object")&&u.mutate({trans:i,type:"put",keys:S,values:C,criteria:K,changeSpec:typeof t!="function"&&t}).then(function(F){return m(C.length,F)})}).then(function(){return(E.length>0||K&&t===vn)&&u.mutate({trans:i,type:"delete",keys:E,criteria:K}).then(function(F){return m(E.length,F)})}).then(function(){return _.length>g+b&&w(g+h)})})};return w(0).then(function(){if(y.length>0)throw new Wt("Error modifying one or more objects",y,d,p);return _.length})})})},e.prototype.delete=function(){var t=this._ctx,n=t.range;return We(t)&&(t.isPrimKey&&!ba||n.type===3)?this._write(function(r){var i=t.table.core.schema.primaryKey,o=n;return t.table.core.count({trans:r,query:{index:i,range:o}}).then(function(a){return t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(function(s){var u=s.failures;s.lastResult,s.results;var l=s.numFailures;if(l)throw new Wt("Could not delete some values",Object.keys(u).map(function(c){return u[c]}),a-l);return a-l})})}):this.modify(vn)},e}(),vn=function(e,t){return t.value=null};function ka(e){return Et(Aa.prototype,function(n,r){this.db=e;var i=Ai,o=null;if(r)try{i=r()}catch(l){o=l}var a=n._ctx,s=a.table,u=s.hook.reading.fire;this._ctx={table:s,index:a.index,isPrimKey:!a.index||s.schema.primKey.keyPath&&a.index===s.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:a.or,valueMapper:u!==bt?u:null}})}function Ca(e,t){return e<t?-1:e===t?0:1}function Pa(e,t){return e>t?-1:e===t?0:1}function ee(e,t,n){var r=e instanceof Ci?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Ue(e){return new e.Collection(e,function(){return ki("")}).limit(0)}function Da(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function Ra(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function Ta(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),s=-1,u=0;u<a;++u){var l=t[u];if(l!==r[u])return i(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):i(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[u],l)<0&&(s=u)}return a<r.length&&o==="next"?e+n.substr(e.length):a<e.length&&o==="prev"?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function Dt(e,t,n,r){var i,o,a,s,u,l,c,f=n.length;if(!n.every(function(p){return typeof p=="string"}))return ee(e,Ei);function h(p){i=Da(p),o=Ra(p),a=p==="next"?Ca:Pa;var m=n.map(function(_){return{lower:o(_),upper:i(_)}}).sort(function(_,w){return a(_.lower,w.lower)});s=m.map(function(_){return _.upper}),u=m.map(function(_){return _.lower}),l=p,c=p==="next"?"":r}h("next");var y=new e.Collection(e,function(){return _e(s[0],u[f-1]+r)});y._ondirectionchange=function(p){h(p)};var d=0;return y._addAlgorithm(function(p,m,_){var w=p.key;if(typeof w!="string")return!1;var g=o(w);if(t(g,u,d))return!0;for(var b=null,v=d;v<f;++v){var x=Ta(w,g,s[v],u[v],a,l);x===null&&b===null?d=v+1:(b===null||a(b,x)>0)&&(b=x)}return m(b!==null?function(){p.continue(b+c)}:_),!1}),y}function _e(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function ki(e){return{type:1,lower:e,upper:e}}var Ci=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(t,n,r,i){r=r!==!1,i=i===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||i)&&!(r&&i)?Ue(this):new this.Collection(this,function(){return _e(t,n,!r,!i)})}catch{return ee(this,he)}},e.prototype.equals=function(t){return t==null?ee(this,he):new this.Collection(this,function(){return ki(t)})},e.prototype.above=function(t){return t==null?ee(this,he):new this.Collection(this,function(){return _e(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?ee(this,he):new this.Collection(this,function(){return _e(t,void 0,!1)})},e.prototype.below=function(t){return t==null?ee(this,he):new this.Collection(this,function(){return _e(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?ee(this,he):new this.Collection(this,function(){return _e(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?ee(this,Ei):this.between(t,t+Re,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):Dt(this,function(n,r){return n.indexOf(r[0])===0},[t],Re)},e.prototype.equalsIgnoreCase=function(t){return Dt(this,function(n,r){return n===r[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=pe.apply(Ve,arguments);return t.length===0?Ue(this):Dt(this,function(n,r){return r.indexOf(n)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=pe.apply(Ve,arguments);return t.length===0?Ue(this):Dt(this,function(n,r){return r.some(function(i){return n.indexOf(i)===0})},t,Re)},e.prototype.anyOf=function(){var t=this,n=pe.apply(Ve,arguments),r=this._cmp;try{n.sort(r)}catch{return ee(this,he)}if(n.length===0)return Ue(this);var i=new this.Collection(this,function(){return _e(n[0],n[n.length-1])});i._ondirectionchange=function(a){r=a==="next"?t._ascending:t._descending,n.sort(r)};var o=0;return i._addAlgorithm(function(a,s,u){for(var l=a.key;r(l,n[o])>0;)if(++o,o===n.length)return s(u),!1;return r(l,n[o])===0?!0:(s(function(){a.continue(n[o])}),!1)}),i},e.prototype.notEqual=function(t){return this.inAnyRange([[On,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=pe.apply(Ve,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return ee(this,he)}var n=t.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[On,i]]},null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,n){var r=this,i=this._cmp,o=this._ascending,a=this._descending,s=this._min,u=this._max;if(t.length===0)return Ue(this);if(!t.every(function(v){return v[0]!==void 0&&v[1]!==void 0&&o(v[0],v[1])<=0}))return ee(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",R.InvalidArgument);var l=!n||n.includeLowers!==!1,c=n&&n.includeUppers===!0;function f(v,x){for(var C=0,S=v.length;C<S;++C){var E=v[C];if(i(x[0],E[1])<0&&i(x[1],E[0])>0){E[0]=s(E[0],x[0]),E[1]=u(E[1],x[1]);break}}return C===S&&v.push(x),v}var h=o;function y(v,x){return h(v[0],x[0])}var d;try{d=t.reduce(f,[]),d.sort(y)}catch{return ee(this,he)}var p=0,m=c?function(v){return o(v,d[p][1])>0}:function(v){return o(v,d[p][1])>=0},_=l?function(v){return a(v,d[p][0])>0}:function(v){return a(v,d[p][0])>=0};function w(v){return!m(v)&&!_(v)}var g=m,b=new this.Collection(this,function(){return _e(d[0][0],d[d.length-1][1],!l,!c)});return b._ondirectionchange=function(v){v==="next"?(g=m,h=o):(g=_,h=a),d.sort(y)},b._addAlgorithm(function(v,x,C){for(var S=v.key;g(S);)if(++p,p===d.length)return x(C),!1;return w(S)?!0:(r._cmp(S,d[p][1])===0||r._cmp(S,d[p][0])===0||x(function(){h===o?v.continue(d[p][0]):v.continue(d[p][1])}),!1)}),b},e.prototype.startsWithAnyOf=function(){var t=pe.apply(Ve,arguments);return t.every(function(n){return typeof n=="string"})?t.length===0?Ue(this):this.inAnyRange(t.map(function(n){return[n,n+Re]})):ee(this,"startsWithAnyOf() only works with strings")},e}();function Ka(e){return Et(Ci.prototype,function(n,r,i){this.db=e,this._ctx={table:n,index:r===":id"?null:r,or:i};var o=e._deps.indexedDB;if(!o)throw new R.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(a,s){return o.cmp(s,a)},this._max=function(a,s){return o.cmp(a,s)>0?a:s},this._min=function(a,s){return o.cmp(a,s)<0?a:s},this._IDBKeyRange=e._deps.IDBKeyRange})}function ue(e){return $(function(t){return ht(t),e(t.target.error),!1})}function ht(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var dt="storagemutated",Se="x-storagemutated-1",Pe=xt(null,dt),Ia=function(){function e(){}return e.prototype._lock=function(){return tt(!P.global),++this._reculock,this._reculock===1&&!P.global&&(P.lockOwnerFor=this),this},e.prototype._unlock=function(){if(tt(!P.global),--this._reculock===0)for(P.global||(P.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Ze(t[1],t[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&P.lockOwnerFor!==this},e.prototype.create=function(t){var n=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(tt(!this.idbtrans),!t&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new R.DatabaseClosed(i);case"MissingAPIError":throw new R.MissingAPI(i.message,i);default:throw new R.OpenFailed(i)}if(!this.active)throw new R.TransactionInactive;return tt(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=$(function(o){ht(o),n._reject(t.error)}),t.onabort=$(function(o){ht(o),n.active&&n._reject(new R.Abort(t.error)),n.active=!1,n.on("abort").fire(o)}),t.oncomplete=$(function(){n.active=!1,n._resolve(),"mutatedParts"in t&&Pe.storagemutated.fire(t.mutatedParts)}),this},e.prototype._promise=function(t,n,r){var i=this;if(t==="readwrite"&&this.mode!=="readwrite")return H(new R.ReadOnly("Transaction is readonly"));if(!this.active)return H(new R.TransactionInactive);if(this._locked())return new k(function(a,s){i._blockedFuncs.push([function(){i._promise(t,n,r).then(a,s)},P])});if(r)return ke(function(){var a=new k(function(s,u){i._lock();var l=n(s,u,i);l&&l.then&&l.then(s,u)});return a.finally(function(){return i._unlock()}),a._lib=!0,a});var o=new k(function(a,s){var u=n(a,s,i);u&&u.then&&u.then(a,s)});return o._lib=!0,o},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var n=this._root(),r=k.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var i=n.idbtrans.objectStore(n.storeNames[0]);(function a(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(i.get(-1/0).onsuccess=a)})()}var o=n._waitingFor;return new k(function(a,s){r.then(function(u){return n._waitingQueue.push($(a.bind(null,u)))},function(u){return n._waitingQueue.push($(s.bind(null,u)))}).finally(function(){n._waitingFor===o&&(n._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new R.Abort))},e.prototype.table=function(t){var n=this._memoizedTables||(this._memoizedTables={});if(te(n,t))return n[t];var r=this.schema[t];if(!r)throw new R.NotFound("Table "+t+" not part of transaction");var i=new this.db.Table(t,r,this);return i.core=this.db.core.table(t),n[t]=i,i},e}();function Oa(e){return Et(Ia.prototype,function(n,r,i,o,a){var s=this;this.db=e,this.mode=n,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=xt(this,"complete","error","abort"),this.parent=a||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new k(function(u,l){s._resolve=u,s._reject=l}),this._completion.then(function(){s.active=!1,s.on.complete.fire()},function(u){var l=s.active;return s.active=!1,s.on.error.fire(u),s.parent?s.parent._reject(u):l&&s.idbtrans&&s.idbtrans.abort(),H(u)})})}function Bn(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+Pi(t)}}function Pi(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Di(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:ai(n,function(r){return[r.name,r]})}}function Ba(e){return e.length===1?e[0]:e}var pt=function(e){try{return e.only([[]]),pt=function(){return[[]]},[[]]}catch{return pt=function(){return Re},Re}};function Mn(e){return e==null?function(){}:typeof e=="string"?Ma(e):function(t){return ye(t,e)}}function Ma(e){var t=e.split(".");return t.length===1?function(n){return n[e]}:function(n){return ye(n,e)}}function Dr(e){return[].slice.call(e)}var La=0;function st(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function Na(e,t,n){function r(f,h){var y=Dr(f.objectStoreNames);return{schema:{name:f.name,tables:y.map(function(d){return h.objectStore(d)}).map(function(d){var p=d.keyPath,m=d.autoIncrement,_=X(p),w=p==null,g={},b={name:d.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:w,compound:_,keyPath:p,autoIncrement:m,unique:!0,extractKey:Mn(p)},indexes:Dr(d.indexNames).map(function(v){return d.index(v)}).map(function(v){var x=v.name,C=v.unique,S=v.multiEntry,E=v.keyPath,A=X(E),T={name:x,compound:A,keyPath:E,unique:C,multiEntry:S,extractKey:Mn(E)};return g[st(E)]=T,T}),getIndexByKeyPath:function(v){return g[st(v)]}};return g[":id"]=b.primaryKey,p!=null&&(g[st(p)]=b.primaryKey),b})},hasGetAll:y.length>0&&"getAll"in h.objectStore(y[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(f){if(f.type===3)return null;if(f.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var h=f.lower,y=f.upper,d=f.lowerOpen,p=f.upperOpen,m=h===void 0?y===void 0?null:t.upperBound(y,!!p):y===void 0?t.lowerBound(h,!!d):t.bound(h,y,!!d,!!p);return m}function o(f){var h=f.name;function y(m){var _=m.trans,w=m.type,g=m.keys,b=m.values,v=m.range;return new Promise(function(x,C){x=$(x);var S=_.objectStore(h),E=S.keyPath==null,A=w==="put"||w==="add";if(!A&&w!=="delete"&&w!=="deleteRange")throw new Error("Invalid operation type: "+w);var T=(g||b||{length:1}).length;if(g&&b&&g.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(T===0)return x({numFailures:0,failures:{},results:[],lastResult:void 0});var O,K=[],F=[],D=0,U=function(se){++D,ht(se)};if(w==="deleteRange"){if(v.type===4)return x({numFailures:D,failures:F,results:[],lastResult:void 0});v.type===3?K.push(O=S.clear()):K.push(O=S.delete(i(v)))}else{var z=A?E?[b,g]:[b,null]:[g,null],Z=z[0],ae=z[1];if(A)for(var ne=0;ne<T;++ne)K.push(O=ae&&ae[ne]!==void 0?S[w](Z[ne],ae[ne]):S[w](Z[ne])),O.onerror=U;else for(var ne=0;ne<T;++ne)K.push(O=S[w](Z[ne])),O.onerror=U}var we=function(se){var et=se.target.result;K.forEach(function(re,St){return re.error!=null&&(F[St]=re.error)}),x({numFailures:D,failures:F,results:w==="delete"?g:K.map(function(re){return re.result}),lastResult:et})};O.onerror=function(se){U(se),we(se)},O.onsuccess=we})}function d(m){var _=m.trans,w=m.values,g=m.query,b=m.reverse,v=m.unique;return new Promise(function(x,C){x=$(x);var S=g.index,E=g.range,A=_.objectStore(h),T=S.isPrimaryKey?A:A.index(S.name),O=b?v?"prevunique":"prev":v?"nextunique":"next",K=w||!("openKeyCursor"in T)?T.openCursor(i(E),O):T.openKeyCursor(i(E),O);K.onerror=ue(C),K.onsuccess=$(function(F){var D=K.result;if(!D){x(null);return}D.___id=++La,D.done=!1;var U=D.continue.bind(D),z=D.continuePrimaryKey;z&&(z=z.bind(D));var Z=D.advance.bind(D),ae=function(){throw new Error("Cursor not started")},ne=function(){throw new Error("Cursor not stopped")};D.trans=_,D.stop=D.continue=D.continuePrimaryKey=D.advance=ae,D.fail=$(C),D.next=function(){var we=this,se=1;return this.start(function(){return se--?we.continue():we.stop()}).then(function(){return we})},D.start=function(we){var se=new Promise(function(re,St){re=$(re),K.onerror=ue(St),D.fail=St,D.stop=function(Mi){D.stop=D.continue=D.continuePrimaryKey=D.advance=ne,re(Mi)}}),et=function(){if(K.result)try{we()}catch(re){D.fail(re)}else D.done=!0,D.start=function(){throw new Error("Cursor behind last entry")},D.stop()};return K.onsuccess=$(function(re){K.onsuccess=et,et()}),D.continue=U,D.continuePrimaryKey=z,D.advance=Z,et(),se},x(D)},C)})}function p(m){return function(_){return new Promise(function(w,g){w=$(w);var b=_.trans,v=_.values,x=_.limit,C=_.query,S=x===1/0?void 0:x,E=C.index,A=C.range,T=b.objectStore(h),O=E.isPrimaryKey?T:T.index(E.name),K=i(A);if(x===0)return w({result:[]});if(m){var F=v?O.getAll(K,S):O.getAllKeys(K,S);F.onsuccess=function(Z){return w({result:Z.target.result})},F.onerror=ue(g)}else{var D=0,U=v||!("openKeyCursor"in O)?O.openCursor(K):O.openKeyCursor(K),z=[];U.onsuccess=function(Z){var ae=U.result;if(!ae)return w({result:z});if(z.push(v?ae.value:ae.primaryKey),++D===x)return w({result:z});ae.continue()},U.onerror=ue(g)}})}}return{name:h,schema:f,mutate:y,getMany:function(m){var _=m.trans,w=m.keys;return new Promise(function(g,b){g=$(g);for(var v=_.objectStore(h),x=w.length,C=new Array(x),S=0,E=0,A,T=function(D){var U=D.target;(C[U._pos]=U.result)!=null,++E===S&&g(C)},O=ue(b),K=0;K<x;++K){var F=w[K];F!=null&&(A=v.get(w[K]),A._pos=K,A.onsuccess=T,A.onerror=O,++S)}S===0&&g(C)})},get:function(m){var _=m.trans,w=m.key;return new Promise(function(g,b){g=$(g);var v=_.objectStore(h),x=v.get(w);x.onsuccess=function(C){return g(C.target.result)},x.onerror=ue(b)})},query:p(u),openCursor:d,count:function(m){var _=m.query,w=m.trans,g=_.index,b=_.range;return new Promise(function(v,x){var C=w.objectStore(h),S=g.isPrimaryKey?C:C.index(g.name),E=i(b),A=E?S.count(E):S.count();A.onsuccess=$(function(T){return v(T.target.result)}),A.onerror=ue(x)})}}}var a=r(e,n),s=a.schema,u=a.hasGetAll,l=s.tables.map(function(f){return o(f)}),c={};return l.forEach(function(f){return c[f.name]=f}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(f){var h=c[f];if(!h)throw new Error("Table '"+f+"' not found");return c[f]},MIN_KEY:-1/0,MAX_KEY:pt(t),schema:s}}function $a(e,t){return t.reduce(function(n,r){var i=r.create;return I(I({},n),i(n))},e)}function Fa(e,t,n,r){var i=n.IDBKeyRange;n.indexedDB;var o=$a(Na(t,i,r),e.dbcore);return{dbcore:o}}function ar(e,t){var n=e._novip,r=t.db,i=Fa(n._middlewares,r,n._deps,t);n.core=i.dbcore,n.tables.forEach(function(o){var a=o.name;n.core.schema.tables.some(function(s){return s.name===a})&&(o.core=n.core.table(a),n[a]instanceof n.Table&&(n[a].core=o.core))})}function Yt(e,t,n,r){var i=e._novip;n.forEach(function(o){var a=r[o];t.forEach(function(s){var u=Qn(s,o);(!u||"value"in u&&u.value===void 0)&&(s===i.Transaction.prototype||s instanceof i.Transaction?me(s,o,{get:function(){return this.table(o)},set:function(l){ri(this,o,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):s[o]=new i.Table(o,a))})})}function Ln(e,t){var n=e._novip;t.forEach(function(r){for(var i in r)r[i]instanceof n.Table&&delete r[i]})}function ja(e,t){return e._cfg.version-t._cfg.version}function Wa(e,t,n,r){var i=e._dbSchema,o=e._createTransaction("readwrite",e._storeNames,i);o.create(n),o._completion.catch(r);var a=o._reject.bind(o),s=P.transless||P;ke(function(){P.trans=o,P.transless=s,t===0?(W(i).forEach(function(u){sr(n,u,i[u].primKey,i[u].indexes)}),ar(e,n),k.follow(function(){return e.on.populate.fire(o)}).catch(a)):Ua(e,t,o,n).catch(a)})}function Ua(e,t,n,r){var i=e._novip,o=[],a=i._versions,s=i._dbSchema=ur(i,i.idbdb,r),u=!1,l=a.filter(function(f){return f._cfg.version>=t});l.forEach(function(f){o.push(function(){var h=s,y=f._cfg.dbschema;$n(i,h,r),$n(i,y,r),s=i._dbSchema=y;var d=Ri(h,y);d.add.forEach(function(b){sr(r,b[0],b[1].primKey,b[1].indexes)}),d.change.forEach(function(b){if(b.recreate)throw new R.Upgrade("Not yet support for changing primary key");var v=r.objectStore(b.name);b.add.forEach(function(x){return Nn(v,x)}),b.change.forEach(function(x){v.deleteIndex(x.name),Nn(v,x)}),b.del.forEach(function(x){return v.deleteIndex(x)})});var p=f._cfg.contentUpgrade;if(p&&f._cfg.version>t){ar(i,r),n._memoizedTables={},u=!0;var m=si(y);d.del.forEach(function(b){m[b]=h[b]}),Ln(i,[i.Transaction.prototype]),Yt(i,[i.Transaction.prototype],W(m),m),n.schema=m;var _=Jn(p);_&&Je();var w,g=k.follow(function(){if(w=p(n),w&&_){var b=ge.bind(null,null);w.then(b,b)}});return w&&typeof w.then=="function"?k.resolve(w):g.then(function(){return w})}}),o.push(function(h){if(!u||!ga){var y=f._cfg.dbschema;Ha(y,h)}Ln(i,[i.Transaction.prototype]),Yt(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),n.schema=i._dbSchema})});function c(){return o.length?k.resolve(o.shift()(n.idbtrans)).then(c):k.resolve()}return c().then(function(){Va(s,r)})}function Ri(e,t){var n={del:[],add:[],change:[]},r;for(r in e)t[r]||n.del.push(r);for(r in t){var i=e[r],o=t[r];if(!i)n.add.push([r,o]);else{var a={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!an)a.recreate=!0,n.change.push(a);else{var s=i.idxByName,u=o.idxByName,l=void 0;for(l in s)u[l]||a.del.push(l);for(l in u){var c=s[l],f=u[l];c?c.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}}return n}function sr(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(o){return Nn(i,o)}),i}function Va(e,t){W(e).forEach(function(n){t.db.objectStoreNames.contains(n)||sr(t,n,e[n].primKey,e[n].indexes)})}function Ha(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(n){return e[n]==null&&t.db.deleteObjectStore(n)})}function Nn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ur(e,t,n){var r={},i=rn(t.objectStoreNames,0);return i.forEach(function(o){for(var a=n.objectStore(o),s=a.keyPath,u=Bn(Pi(s),s||"",!1,!1,!!a.autoIncrement,s&&typeof s!="string",!0),l=[],c=0;c<a.indexNames.length;++c){var f=a.index(a.indexNames[c]);s=f.keyPath;var h=Bn(f.name,s,!!f.unique,!!f.multiEntry,!1,s&&typeof s!="string",!1);l.push(h)}r[o]=Di(o,u,l)}),r}function za(e,t,n){var r=e._novip;r.verno=t.version/10;var i=r._dbSchema=ur(r,t,n);r._storeNames=rn(t.objectStoreNames,0),Yt(r,[r._allTables],W(i),i)}function qa(e,t){var n=ur(e,e.idbdb,t),r=Ri(n,e._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function $n(e,t,n){for(var r=e._novip,i=n.db.objectStoreNames,o=0;o<i.length;++o){var a=i[o],s=n.objectStore(a);r._hasGetAll="getAll"in s;for(var u=0;u<s.indexNames.length;++u){var l=s.indexNames[u],c=s.index(l).keyPath,f=typeof c=="string"?c:"["+rn(c).join("+")+"]";if(t[a]){var h=t[a].idxByName[f];h&&(h.name=l,delete t[a].idxByName[f],t[a].idxByName[l]=h)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&N.WorkerGlobalScope&&N instanceof N.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function Ya(e){return e.split(",").map(function(t,n){t=t.trim();var r=t.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Bn(r,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),X(i),n===0)})}var Xa=function(){function e(){}return e.prototype._parseStoresSpec=function(t,n){W(t).forEach(function(r){if(t[r]!==null){var i=Ya(t[r]),o=i.shift();if(o.multi)throw new R.Schema("Primary key cannot be multi-valued");i.forEach(function(a){if(a.auto)throw new R.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new R.Schema("Index must have a name and cannot be an empty string")}),n[r]=Di(r,o,i)}})},e.prototype.stores=function(t){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?J(this._cfg.storesSource,t):t;var r=n._versions,i={},o={};return r.forEach(function(a){J(i,a._cfg.storesSource),o=a._cfg.dbschema={},a._parseStoresSpec(i,o)}),n._dbSchema=o,Ln(n,[n._allTables,n,n.Transaction.prototype]),Yt(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],W(o),o),n._storeNames=W(o),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=tr(this._cfg.contentUpgrade||B,t),this},e}();function Ga(e){return Et(Xa.prototype,function(n){this.db=e,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function lr(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new dr(sn,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function cr(e){return e&&typeof e.databases=="function"}function Qa(e){var t=e.indexedDB,n=e.IDBKeyRange;return cr(t)?Promise.resolve(t.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==sn})}):lr(t,n).toCollection().primaryKeys()}function Ja(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!cr(n)&&t!==sn&&lr(n,r).put({name:t}).catch(B)}function Za(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!cr(n)&&t!==sn&&lr(n,r).delete(t).catch(B)}function Fn(e){return ke(function(){return P.letThrough=!0,e()})}function es(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)})}function ts(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?H(t.dbOpenError):e});fe&&(t.openCanceller._stackHolder=$e()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller;function i(){if(t.openCanceller!==r)throw new R.DatabaseClosed("db.open() was cancelled")}var o=t.dbReadyResolve,a=null,s=!1;return k.race([r,(typeof navigator>"u"?k.resolve():es()).then(function(){return new k(function(u,l){if(i(),!n)throw new R.MissingAPI;var c=e.name,f=t.autoSchema?n.open(c):n.open(c,Math.round(e.verno*10));if(!f)throw new R.MissingAPI;f.onerror=ue(l),f.onblocked=$(e._fireOnBlocked),f.onupgradeneeded=$(function(h){if(a=f.transaction,t.autoSchema&&!e._options.allowEmptyDB){f.onerror=ht,a.abort(),f.result.close();var y=n.deleteDatabase(c);y.onsuccess=y.onerror=$(function(){l(new R.NoSuchDatabase("Database "+c+" doesnt exist"))})}else{a.onerror=ue(l);var d=h.oldVersion>Math.pow(2,62)?0:h.oldVersion;s=d<1,e._novip.idbdb=f.result,Wa(e,d/10,a,l)}},l),f.onsuccess=$(function(){a=null;var h=e._novip.idbdb=f.result,y=rn(h.objectStoreNames);if(y.length>0)try{var d=h.transaction(Ba(y),"readonly");t.autoSchema?za(e,h,d):($n(e,e._dbSchema,d),qa(e,d)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),ar(e,d)}catch{}at.push(e),h.onversionchange=$(function(p){t.vcFired=!0,e.on("versionchange").fire(p)}),h.onclose=$(function(p){e.on("close").fire(p)}),s&&Ja(e._deps,c),u()},l)})})]).then(function(){return i(),t.onReadyBeingFired=[],k.resolve(Fn(function(){return e.on.ready.fire(e.vip)})).then(function u(){if(t.onReadyBeingFired.length>0){var l=t.onReadyBeingFired.reduce(tr,B);return t.onReadyBeingFired=[],k.resolve(Fn(function(){return l(e.vip)})).then(u)}})}).finally(function(){t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(function(){return e}).catch(function(u){t.dbOpenError=u;try{a&&a.abort()}catch{}return r===t.openCanceller&&e._close(),H(u)}).finally(function(){t.openComplete=!0,o()})}function jn(e){var t=function(a){return e.next(a)},n=function(a){return e.throw(a)},r=o(t),i=o(n);function o(a){return function(s){var u=a(s),l=u.value;return u.done?l:!l||typeof l.then!="function"?X(l)?Promise.all(l).then(r,i):r(l):l.then(r,i)}}return o(t)()}function ns(e,t,n){var r=arguments.length;if(r<2)throw new R.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];n=i.pop();var o=ui(i);return[e,o,n]}function Ti(e,t,n,r,i){return k.resolve().then(function(){var o=P.transless||P,a=e._createTransaction(t,n,e._dbSchema,r),s={trans:a,transless:o};if(r)a.idbtrans=r.idbtrans;else try{a.create(),e._state.PR1398_maxLoop=3}catch(f){return f.name===er.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return Ti(e,t,n,null,i)})):H(f)}var u=Jn(i);u&&Je();var l,c=k.follow(function(){if(l=i.call(a,a),l)if(u){var f=ge.bind(null,null);l.then(f,f)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=jn(l))},s);return(l&&typeof l.then=="function"?k.resolve(l).then(function(f){return a.active?f:H(new R.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):c.then(function(){return l})).then(function(f){return r&&a._resolve(),a._completion.then(function(){return f})}).catch(function(f){return a._reject(f),H(f)})})}function Rt(e,t,n){for(var r=X(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}function rs(e){return I(I({},e),{table:function(t){var n=e.table(t),r=n.schema,i={},o=[];function a(p,m,_){var w=st(p),g=i[w]=i[w]||[],b=p==null?0:typeof p=="string"?1:p.length,v=m>0,x=I(I({},_),{isVirtual:v,keyTail:m,keyLength:b,extractKey:Mn(p),unique:!v&&_.unique});if(g.push(x),x.isPrimaryKey||o.push(x),b>1){var C=b===2?p[0]:p.slice(0,b-1);a(C,m+1,_)}return g.sort(function(S,E){return S.keyTail-E.keyTail}),x}var s=a(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[s];for(var u=0,l=r.indexes;u<l.length;u++){var c=l[u];a(c.keyPath,0,c)}function f(p){var m=i[st(p)];return m&&m[0]}function h(p,m){return{type:p.type===1?2:p.type,lower:Rt(p.lower,p.lowerOpen?e.MAX_KEY:e.MIN_KEY,m),lowerOpen:!0,upper:Rt(p.upper,p.upperOpen?e.MIN_KEY:e.MAX_KEY,m),upperOpen:!0}}function y(p){var m=p.query.index;return m.isVirtual?I(I({},p),{query:{index:m,range:h(p.query.range,m.keyTail)}}):p}var d=I(I({},n),{schema:I(I({},r),{primaryKey:s,indexes:o,getIndexByKeyPath:f}),count:function(p){return n.count(y(p))},query:function(p){return n.query(y(p))},openCursor:function(p){var m=p.query.index,_=m.keyTail,w=m.isVirtual,g=m.keyLength;if(!w)return n.openCursor(p);function b(v){function x(S){S!=null?v.continue(Rt(S,p.reverse?e.MAX_KEY:e.MIN_KEY,_)):p.unique?v.continue(v.key.slice(0,g).concat(p.reverse?e.MIN_KEY:e.MAX_KEY,_)):v.continue()}var C=Object.create(v,{continue:{value:x},continuePrimaryKey:{value:function(S,E){v.continuePrimaryKey(Rt(S,e.MAX_KEY,_),E)}},primaryKey:{get:function(){return v.primaryKey}},key:{get:function(){var S=v.key;return g===1?S[0]:S.slice(0,g)}},value:{get:function(){return v.value}}});return C}return n.openCursor(y(p)).then(function(v){return v&&b(v)})}});return d}})}var is={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:rs};function fr(e,t,n,r){return n=n||{},r=r||"",W(e).forEach(function(i){if(!te(t,i))n[r+i]=void 0;else{var o=e[i],a=t[i];if(typeof o=="object"&&typeof a=="object"&&o&&a){var s=xn(o),u=xn(a);s!==u?n[r+i]=t[i]:s==="Object"?fr(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i])}else o!==a&&(n[r+i]=t[i])}}),W(t).forEach(function(i){te(e,i)||(n[r+i]=t[i])}),n}function os(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var as={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return I(I({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey,i=I(I({},n),{mutate:function(o){var a=P.trans,s=a.table(t).hook,u=s.deleting,l=s.creating,c=s.updating;switch(o.type){case"add":if(l.fire===B)break;return a._promise("readwrite",function(){return f(o)},!0);case"put":if(l.fire===B&&c.fire===B)break;return a._promise("readwrite",function(){return f(o)},!0);case"delete":if(u.fire===B)break;return a._promise("readwrite",function(){return f(o)},!0);case"deleteRange":if(u.fire===B)break;return a._promise("readwrite",function(){return h(o)},!0)}return n.mutate(o);function f(d){var p=P.trans,m=d.keys||os(r,d);if(!m)throw new Error("Keys missing");return d=d.type==="add"||d.type==="put"?I(I({},d),{keys:m}):I({},d),d.type!=="delete"&&(d.values=wn([],d.values,!0)),d.keys&&(d.keys=wn([],d.keys,!0)),ss(n,d,m).then(function(_){var w=m.map(function(g,b){var v=_[b],x={onerror:null,onsuccess:null};if(d.type==="delete")u.fire.call(x,g,v,p);else if(d.type==="add"||v===void 0){var C=l.fire.call(x,g,d.values[b],p);g==null&&C!=null&&(g=C,d.keys[b]=g,r.outbound||oe(d.values[b],r.keyPath,g))}else{var S=fr(v,d.values[b]),E=c.fire.call(x,S,g,v,p);if(E){var A=d.values[b];Object.keys(E).forEach(function(T){te(A,T)?A[T]=E[T]:oe(A,T,E[T])})}}return x});return n.mutate(d).then(function(g){for(var b=g.failures,v=g.results,x=g.numFailures,C=g.lastResult,S=0;S<m.length;++S){var E=v?v[S]:m[S],A=w[S];E==null?A.onerror&&A.onerror(b[S]):A.onsuccess&&A.onsuccess(d.type==="put"&&_[S]?d.values[S]:E)}return{failures:b,results:v,numFailures:x,lastResult:C}}).catch(function(g){return w.forEach(function(b){return b.onerror&&b.onerror(g)}),Promise.reject(g)})})}function h(d){return y(d.trans,d.range,1e4)}function y(d,p,m){return n.query({trans:d,values:!1,query:{index:r,range:p},limit:m}).then(function(_){var w=_.result;return f({type:"delete",keys:w,trans:d}).then(function(g){return g.numFailures>0?Promise.reject(g.failures[0]):w.length<m?{failures:[],numFailures:0,lastResult:void 0}:y(d,I(I({},p),{lower:w[w.length-1],lowerOpen:!0}),m)})})}}});return i}})}};function ss(e,t,n){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}function Ki(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var r=[],i=0,o=0;i<t.keys.length&&o<e.length;++i)Q(t.keys[i],e[o])===0&&(r.push(n?gt(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch{return null}}var us={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return I(I({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var i=Ki(r.keys,r.trans._cache,r.cache==="clone");return i?k.resolve(i):n.getMany(r).then(function(o){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?gt(o):o},o})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},yn;function hr(e){return!("from"in e)}var de=function(e,t){if(this)J(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{var n=new de;return e&&"d"in e&&J(n,e),n}};Xe(de.prototype,(yn={add:function(e){return Xt(this,e),this},addKey:function(e){return vt(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return vt(t,n,n)}),this}},yn[En]=function(){return Wn(this)},yn));function vt(e,t,n){var r=Q(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(hr(e))return J(e,{from:t,to:n,d:1});var i=e.l,o=e.r;if(Q(n,e.from)<0)return i?vt(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Rr(e);if(Q(t,e.to)>0)return o?vt(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Rr(e);Q(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Q(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var a=!e.r;i&&!e.l&&Xt(e,i),o&&a&&Xt(e,o)}}function Xt(e,t){function n(r,i){var o=i.from,a=i.to,s=i.l,u=i.r;vt(r,o,a),s&&n(r,s),u&&n(r,u)}hr(t)||n(e,t)}function ls(e,t){var n=Wn(t),r=n.next();if(r.done)return!1;for(var i=r.value,o=Wn(e),a=o.next(i.from),s=a.value;!r.done&&!a.done;){if(Q(s.from,i.to)<=0&&Q(s.to,i.from)>=0)return!0;Q(i.from,s.from)<0?i=(r=n.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}function Wn(e){var t=hr(e)?null:{s:0,n:e};return{next:function(n){for(var r=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Q(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Q(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Rr(e){var t,n,r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var o=i==="r"?"l":"r",a=I({},e),s=e[i];e.from=s.from,e.to=s.to,e[i]=s[i],a[i]=s[o],e[o]=a,a.d=Tr(a)}e.d=Tr(e)}function Tr(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}var cs={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,n=new de(e.MIN_KEY,e.MAX_KEY);return I(I({},e),{table:function(r){var i=e.table(r),o=i.schema,a=o.primaryKey,s=a.extractKey,u=a.outbound,l=I(I({},i),{mutate:function(h){var y=h.trans,d=y.mutatedParts||(y.mutatedParts={}),p=function(C){var S="idb://"+t+"/"+r+"/"+C;return d[S]||(d[S]=new de)},m=p(""),_=p(":dels"),w=h.type,g=h.type==="deleteRange"?[h.range]:h.type==="delete"?[h.keys]:h.values.length<50?[[],h.values]:[],b=g[0],v=g[1],x=h.trans._cache;return i.mutate(h).then(function(C){if(X(b)){w!=="delete"&&(b=C.results),m.addKeys(b);var S=Ki(b,x);!S&&w!=="add"&&_.addKeys(b),(S||v)&&fs(p,o,S,v)}else if(b){var E={from:b.lower,to:b.upper};_.add(E),m.add(E)}else m.add(n),_.add(n),o.indexes.forEach(function(A){return p(A.name).add(n)});return C})}}),c=function(h){var y,d,p=h.query,m=p.index,_=p.range;return[m,new de((y=_.lower)!==null&&y!==void 0?y:e.MIN_KEY,(d=_.upper)!==null&&d!==void 0?d:e.MAX_KEY)]},f={get:function(h){return[a,new de(h.key)]},getMany:function(h){return[a,new de().addKeys(h.keys)]},count:c,query:c,openCursor:c};return W(f).forEach(function(h){l[h]=function(y){var d=P.subscr;if(d){var p=function(x){var C="idb://"+t+"/"+r+"/"+x;return d[C]||(d[C]=new de)},m=p(""),_=p(":dels"),w=f[h](y),g=w[0],b=w[1];if(p(g.name||"").add(b),!g.isPrimaryKey)if(h==="count")_.add(n);else{var v=h==="query"&&u&&y.values&&i.query(I(I({},y),{values:!1}));return i[h].apply(this,arguments).then(function(x){if(h==="query"){if(u&&y.values)return v.then(function(A){var T=A.result;return m.addKeys(T),x});var C=y.values?x.result.map(s):x.result;y.values?m.addKeys(C):_.addKeys(C)}else if(h==="openCursor"){var S=x,E=y.values;return S&&Object.create(S,{key:{get:function(){return _.addKey(S.primaryKey),S.key}},primaryKey:{get:function(){var A=S.primaryKey;return _.addKey(A),A}},value:{get:function(){return E&&m.addKey(S.primaryKey),S.value}}})}return x})}}return i[h].apply(this,arguments)}}),l}})}};function fs(e,t,n,r){function i(o){var a=e(o.name||"");function s(l){return l!=null?o.extractKey(l):null}var u=function(l){return o.multiEntry&&X(l)?l.forEach(function(c){return a.addKey(c)}):a.addKey(l)};(n||r).forEach(function(l,c){var f=n&&s(n[c]),h=r&&s(r[c]);Q(f,h)!==0&&(f!=null&&u(f),h!=null&&u(h))})}t.indexes.forEach(i)}var dr=function(){function e(t,n){var r=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=n=I({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var o=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:B,dbReadyPromise:null,cancelOpen:B,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};a.dbReadyPromise=new k(function(s){a.dbReadyResolve=s}),a.openCanceller=new k(function(s,u){a.cancelOpen=u}),this._state=a,this.name=t,this.on=xt(this,"populate","blocked","versionchange","close",{ready:[tr,B]}),this.on.ready.subscribe=ii(this.on.ready.subscribe,function(s){return function(u,l){e.vip(function(){var c=r._state;if(c.openComplete)c.dbOpenError||k.resolve().then(u),l&&s(u);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(u),l&&s(u);else{s(u);var f=r;l||s(function h(){f.on.ready.unsubscribe(u),f.on.ready.unsubscribe(h)})}})}}),this.Collection=ka(this),this.Table=_a(this),this.Transaction=Oa(this),this.Version=Ga(this),this.WhereClause=Ka(this),this.on("versionchange",function(s){s.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(s){!s.newVersion||s.newVersion<s.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+s.oldVersion/10)}),this._maxKey=pt(n.IDBKeyRange),this._createTransaction=function(s,u,l,c){return new r.Transaction(s,u,l,r._options.chromeTransactionDurability,c)},this._fireOnBlocked=function(s){r.on("blocked").fire(s),at.filter(function(u){return u.name===r.name&&u!==r&&!u._state.vcFired}).map(function(u){return u.on("versionchange").fire(s)})},this.use(is),this.use(as),this.use(cs),this.use(us),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(function(s){return s(r)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new R.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new R.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var n=this._versions,r=n.filter(function(i){return i._cfg.version===t})[0];return r||(r=new this.Version(t),n.push(r),n.sort(ja),r.stores({}),this._state.autoSchema=!1,r)},e.prototype._whenReady=function(t){var n=this;return this.idbdb&&(this._state.openComplete||P.letThrough||this._vip)?t():new k(function(r,i){if(n._state.openComplete)return i(new R.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){i(new R.DatabaseClosed);return}n.open().catch(B)}n._state.dbReadyPromise.then(r,i)}).then(t)},e.prototype.use=function(t){var n=t.stack,r=t.create,i=t.level,o=t.name;o&&this.unuse({stack:n,name:o});var a=this._middlewares[n]||(this._middlewares[n]=[]);return a.push({stack:n,create:r,level:i??10,name:o}),a.sort(function(s,u){return s.level-u.level}),this},e.prototype.unuse=function(t){var n=t.stack,r=t.name,i=t.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(o){return i?o.create!==i:r?o.name!==r:!1})),this},e.prototype.open=function(){return ts(this)},e.prototype._close=function(){var t=this._state,n=at.indexOf(this);if(n>=0&&at.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new k(function(r){t.dbReadyResolve=r}),t.openCanceller=new k(function(r,i){t.cancelOpen=i})},e.prototype.close=function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new R.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)},e.prototype.delete=function(){var t=this,n=arguments.length>0,r=this._state;return new k(function(i,o){var a=function(){t.close();var s=t._deps.indexedDB.deleteDatabase(t.name);s.onsuccess=$(function(){Za(t._deps,t.name),i()}),s.onerror=ue(o),s.onblocked=t._fireOnBlocked};if(n)throw new R.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return W(this._allTables).map(function(n){return t._allTables[n]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var t=ns.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,n,r){var i=this,o=P.trans;(!o||o.db!==this||t.indexOf("!")!==-1)&&(o=null);var a=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var s,u;try{if(u=n.map(function(c){var f=c instanceof i.Table?c.name:c;if(typeof f!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return f}),t=="r"||t===fn)s=fn;else if(t=="rw"||t==hn)s=hn;else throw new R.InvalidArgument("Invalid transaction mode: "+t);if(o){if(o.mode===fn&&s===hn)if(a)o=null;else throw new R.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&u.forEach(function(c){if(o&&o.storeNames.indexOf(c)===-1)if(a)o=null;else throw new R.SubTransaction("Table "+c+" not included in parent transaction.")}),a&&o&&!o.active&&(o=null)}}catch(c){return o?o._promise(null,function(f,h){h(c)}):H(c)}var l=Ti.bind(null,this,s,u,o,r);return o?o._promise(s,l,"lock"):P.trans?Ze(P.transless,function(){return i._whenReady(l)}):this._whenReady(l)},e.prototype.table=function(t){if(!te(this._allTables,t))throw new R.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},e}(),hs=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ds=function(){function e(t){this._subscribe=t}return e.prototype.subscribe=function(t,n,r){return this._subscribe(!t||typeof t=="function"?{next:t,error:n,complete:r}:t)},e.prototype[hs]=function(){return this},e}();function Ii(e,t){return W(t).forEach(function(n){var r=e[n]||(e[n]=new de);Xt(r,t[n])}),e}function Oi(e){return new ds(function(t){var n=Jn(e);function r(y){n&&Je();var d=function(){return ke(e,{subscr:y,trans:null})},p=P.trans?Ze(P.transless,d):d();return n&&p.then(ge,ge),p}var i=!1,o={},a={},s={get closed(){return i},unsubscribe:function(){i=!0,Pe.storagemutated.unsubscribe(f)}};t.start&&t.start(s);var u=!1,l=!1;function c(){return W(a).some(function(y){return o[y]&&ls(o[y],a[y])})}var f=function(y){Ii(o,y),c()&&h()},h=function(){if(!(u||i)){o={};var y={},d=r(y);l||(Pe(dt,f),l=!0),u=!0,Promise.resolve(d).then(function(p){u=!1,!i&&(c()?h():(o={},a=y,t.next&&t.next(p)))},function(p){u=!1,t.error&&t.error(p),s.unsubscribe()})}};return h(),s})}var Un;try{Un={indexedDB:N.indexedDB||N.mozIndexedDB||N.webkitIndexedDB||N.msIndexedDB,IDBKeyRange:N.IDBKeyRange||N.webkitIDBKeyRange}}catch{Un={indexedDB:null,IDBKeyRange:null}}var De=dr;Xe(De,I(I({},on),{delete:function(e){var t=new De(e,{addons:[]});return t.delete()},exists:function(e){return new De(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return Qa(De.dependencies).then(e)}catch{return H(new R.MissingAPI)}},defineClass:function(){function e(t){J(this,t)}return e},ignoreTransaction:function(e){return P.trans?Ze(P.transless,e):e()},vip:Fn,async:function(e){return function(){try{var t=jn(e.apply(this,arguments));return!t||typeof t.then!="function"?k.resolve(t):t}catch(n){return H(n)}}},spawn:function(e,t,n){try{var r=jn(e.apply(n,t||[]));return!r||typeof r.then!="function"?k.resolve(r):r}catch(i){return H(i)}},currentTransaction:{get:function(){return P.trans||null}},waitFor:function(e,t){var n=k.resolve(typeof e=="function"?De.ignoreTransaction(e):e).timeout(t||6e4);return P.trans?P.trans.waitFor(n):n},Promise:k,debug:{get:function(){return fe},set:function(e){ci(e,e==="dexie"?function(){return!0}:Si)}},derive:Ge,extend:J,props:Xe,override:ii,Events:xt,on:Pe,liveQuery:Oi,extendObservabilitySet:Ii,getByKeyPath:ye,setByKeyPath:oe,delByKeyPath:zo,shallowClone:si,deepClone:gt,getObjectDiff:fr,cmp:Q,asap:oi,minKey:On,addons:[],connections:at,errnames:er,dependencies:Un,semVer:Sr,version:Sr.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,n*2)})}));De.maxKey=pt(De.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Pe(dt,function(e){if(!ve){var t;an?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Se,!0,!0,e)):t=new CustomEvent(Se,{detail:e}),ve=!0,dispatchEvent(t),ve=!1}}),addEventListener(Se,function(e){var t=e.detail;ve||Gt(t)}));function Gt(e){var t=ve;try{ve=!0,Pe.storagemutated.fire(e)}finally{ve=t}}var ve=!1;if(typeof BroadcastChannel<"u"){var Kr=new BroadcastChannel(Se);Pe(dt,function(e){ve||Kr.postMessage(e)}),Kr.onmessage=function(e){e.data&&Gt(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Pe(dt,function(e){try{ve||(typeof localStorage<"u"&&localStorage.setItem(Se,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&wn([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(t){return t.postMessage({type:Se,changedParts:e})}))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",function(e){if(e.key===Se){var t=JSON.parse(e.newValue);t&&Gt(t.changedParts)}});var Ir=self.document&&navigator.serviceWorker;Ir&&Ir.addEventListener("message",ps)}function ps(e){var t=e.data;t&&t.type===Se&&Gt(t.changedParts)}k.rejectionMapper=ta;ci(fe,Si);class vs extends dr{decks;words;constructor(){super("vocabulary"),this.version(1).stores({decks:"++id, name",words:"++id, word, deckId"})}}const be=new vs,yt=e=>{const[t,n]=ie(),i=Oi(e).subscribe(o=>{n(()=>o)});return Qt(()=>{i.unsubscribe()}),t};const ys=ce('<main><h1>Home</h1><ul aria-label="List of decks" class="deck-list"></ul><button class="button create-button">Create default deck</button></main>'),ms=ce("<li></li>"),gs=()=>{const e=yt(async()=>await be.decks.toArray()),t=()=>{be.decks.add({name:"Default"}).catch(console.error)};return(()=>{const n=ys.cloneNode(!0),r=n.firstChild,i=r.nextSibling,o=i.nextSibling;return Y(i,M(Yr,{get each(){return e()},children:a=>(()=>{const s=ms.cloneNode(!0);return Y(s,M(Ye,{class:"deck-card",get href(){return`/deck/${a.id?.toString()}`},get children(){return a.name}})),s})()})),o.$$click=()=>t(),n})()};mt(["click"]);const bs=ce('<main><h1>Create Deck</h1><form><label for="input-create-deck-name">Name</label><input id="input-create-deck-name"><button type="submit">Create</button></form></main>'),ws=()=>{let e;const t=n=>{n.preventDefault(),console.log("e",n),console.log(e)};return(()=>{const n=bs.cloneNode(!0),r=n.firstChild,i=r.nextSibling,o=i.firstChild,a=o.nextSibling;i.addEventListener("submit",t);const s=e;return typeof s=="function"?Gr(s,a):e=a,n})()};const _s=ce('<main><h1></h1><h2>Word count: </h2><div class="deck-actions"></div></main>'),xs=()=>{const{id:e}=Gn(),t=parseInt(e,10),n=yt(async()=>await be.decks.get(parseInt(e,10))),r=yt(async()=>await be.words.where("deckId").equals(t).count());return(()=>{const i=_s.cloneNode(!0),o=i.firstChild,a=o.nextSibling;a.firstChild;const s=a.nextSibling;return Y(o,()=>n()?.name),Y(a,r,null),Y(s,M(Ye,{class:"button",href:`/deck/${e}/add-word`,children:"Add word"}),null),Y(s,M(Ye,{class:"button",href:`/deck/${e}/study`,children:"Study"}),null),i})()};function Bi(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function un(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Nt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nt=function(n){return typeof n}:Nt=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nt(e)}function Vn(e){un(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Nt(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Es(e,t){un(2,arguments);var n=Vn(e).getTime(),r=Bi(t);return new Date(n+r)}var Ss=6e4;function As(e,t){un(2,arguments);var n=Bi(t);return Es(e,n*Ss)}function Or(e,t){un(2,arguments);var n=Vn(e),r=Vn(t);return n.getTime()<r.getTime()}const ks=30,Cs=ce('<main><div class="added-words"></div><h1>Add Word</h1><form><label for="input-word-text">Word / Phrase</label><input class="input" id="input-word-text"><button class="button">Add</button></form></main>'),Ps=()=>{let e;const{id:t}=Gn(),[n,r]=ie([]),i=o=>{o.preventDefault(),be.words.add({word:e.value,dueDate:As(new Date,ks),deckId:parseInt(t,10)}).then(()=>{r([e.value,...n()]),e.value=""}).catch(console.error)};return(()=>{const o=Cs.cloneNode(!0),a=o.firstChild,s=a.nextSibling,u=s.nextSibling,l=u.firstChild,c=l.nextSibling;Y(o,M(Ye,{class:"button narrow",href:`/deck/${t}`,children:"Back to Deck"}),a),Y(a,M(Zt,{get when(){return n().length>0},get children(){return["Just added: ",V(()=>n().join(", "))]}})),u.addEventListener("submit",i);const f=e;return typeof f=="function"?Gr(f,c):e=c,o})()},Ds="modulepreload",Rs=function(e){return"/vocab-trainer/"+e},Br={},Ts=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Rs(o),o in Br)return;Br[o]=!0;const a=o.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const f=i[c];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const l=document.createElement("link");if(l.rel=a?"stylesheet":Ds,a||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),a)return new Promise((c,f)=>{l.addEventListener("load",c),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t())};function Ks(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:o,onRegisterError:a}=e;let s,u,l,c;const f=async(y=!0)=>{await l,y&&s?.addEventListener("controlling",d=>{d.isUpdate&&window.location.reload()}),await c?.()};async function h(){if("serviceWorker"in navigator){const{Workbox:y,messageSW:d}=await Ts(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);c=async()=>{u&&u.waiting&&await d(u.waiting,{type:"SKIP_WAITING"})},s=new y("/vocab-trainer/sw.js",{scope:"/vocab-trainer/",type:"classic"}),s.addEventListener("activated",p=>{p.isUpdate||r?.()});{const p=()=>{n?.()};s.addEventListener("waiting",p),s.addEventListener("externalwaiting",p)}s.register({immediate:t}).then(p=>{u=p,o?o("/vocab-trainer/sw.js",p):i?.(p)}).catch(p=>{a?.(p)})}}return l=h(),f}function Is(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:o,onRegisterError:a}=e,[s,u]=ie(!1),[l,c]=ie(!1),f=Ks({immediate:t,onOfflineReady(){c(!0),r?.()},onNeedRefresh(){u(!0),n?.()},onRegistered:i,onRegisteredSW:o,onRegisterError:a});return{needRefresh:[s,u],offlineReady:[l,c],updateServiceWorker:f}}const Os=ce('<main><h1>Settings</h1><div class="settings"><button class="button">Delete data</button><button class="button">Update</button></div></main>'),Bs=()=>{const e=()=>{be.delete().then(async()=>await be.open()).catch(console.error)},t=Is();return(()=>{const n=Os.cloneNode(!0),r=n.firstChild,i=r.nextSibling,o=i.firstChild,a=o.nextSibling;return o.$$click=e,a.$$click=()=>t?.updateServiceWorker(),n})()};mt(["click"]);const Ms=ce("<main><h1>Study </h1></main>"),Ls=ce("<div></div>"),Ns=()=>{const{id:e}=Gn(),t=parseInt(e,10),n=yt(async()=>await be.decks.get(t)),r=yt(async()=>await be.words.where("deckId").equals(t).and(i=>(console.log(i.dueDate),console.log(typeof i.dueDate),console.log("sBefore?",Or(i.dueDate,new Date)),Or(i.dueDate,new Date))).toArray());return(()=>{const i=Ms.cloneNode(!0),o=i.firstChild;return o.firstChild,Y(o,()=>n()?.name,null),Y(i,M(Zt,{get when(){return r()?.length},get children(){return M(Yr,{get each(){return r()},children:a=>(()=>{const s=Ls.cloneNode(!0);return Y(s,()=>a.word),s})()})}}),null),i})()},$s=ce('<div><header><nav></nav><button class="color-mode-switcher"></button></header><div class="outlet"></div></div>'),Fs=()=>{const e=window.matchMedia("(prefers-color-scheme: light)").matches,[t,n]=ie(e);window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",i=>{n(i.matches)});const r=()=>{const i=t()?"dark-mode":"light-mode";document.documentElement.classList.contains(i)?document.documentElement.classList.remove(i):document.documentElement.classList.add(i)};return(()=>{const i=$s.cloneNode(!0),o=i.firstChild,a=o.firstChild,s=a.nextSibling,u=o.nextSibling;return Y(a,M(Ye,{href:"/",children:"Home"}),null),Y(a,M(Ye,{href:"/settings",children:"Settings"}),null),s.$$click=r,Y(s,()=>t()?"Dark mode":"Light mode"),Y(u,M(Fo,{get children(){return[M(je,{path:"/",element:gs}),M(je,{path:"/settings",element:Bs}),M(je,{path:"/deck/:id",element:xs}),M(je,{path:"/deck/:id/add-word",element:Ps}),M(je,{path:"/deck/:id/study",element:Ns}),M(je,{path:"/create-deck",element:ws})]}})),i})()};mt(["click"]);ro(()=>M($o,{get base(){return"/vocab-trainer/"},get children(){return M(Fs,{})}}),document.getElementById("root"));
